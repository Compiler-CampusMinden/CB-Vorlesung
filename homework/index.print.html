<!DOCTYPE html>
<html lang="de-DE" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.135.0">
    <meta name="generator" content="Relearn 6.4.1">
    <meta name="description" content="Hier finden Sie die Übungsblätter.
Blatt 07: Mini-Projekt C&#43;&#43; Blatt 01: Reguläre Sprachen Blatt 02: CFG Blatt 03: ANTLR Blatt 04: Semantische Analyse Blatt 05: Interpreter Blatt 06: C&#43;&#43; Blatt 07x: Mini-Projekt C&#43;&#43; (IFM 5.21 CB PO18, 5. Semester) Blatt 04x: Semantische Analyse (IFM 5.21 CB PO18, 5. Semester) Blatt 05x: Interpreter (IFM 5.21 CB PO18, 5. Semester) Blatt 06x: C&#43;&#43; und dyn. Speicherverwaltung (IFM 5.21 CB PO18, 5. Semester)">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Praktikum">
    <meta name="twitter:description" content="Hier finden Sie die Übungsblätter.
Blatt 07: Mini-Projekt C&#43;&#43; Blatt 01: Reguläre Sprachen Blatt 02: CFG Blatt 03: ANTLR Blatt 04: Semantische Analyse Blatt 05: Interpreter Blatt 06: C&#43;&#43; Blatt 07x: Mini-Projekt C&#43;&#43; (IFM 5.21 CB PO18, 5. Semester) Blatt 04x: Semantische Analyse (IFM 5.21 CB PO18, 5. Semester) Blatt 05x: Interpreter (IFM 5.21 CB PO18, 5. Semester) Blatt 06x: C&#43;&#43; und dyn. Speicherverwaltung (IFM 5.21 CB PO18, 5. Semester)">
    <meta property="og:url" content="https://www.hsbi.de/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework.html">
    <meta property="og:title" content="Praktikum">
    <meta property="og:description" content="Hier finden Sie die Übungsblätter.
Blatt 07: Mini-Projekt C&#43;&#43; Blatt 01: Reguläre Sprachen Blatt 02: CFG Blatt 03: ANTLR Blatt 04: Semantische Analyse Blatt 05: Interpreter Blatt 06: C&#43;&#43; Blatt 07x: Mini-Projekt C&#43;&#43; (IFM 5.21 CB PO18, 5. Semester) Blatt 04x: Semantische Analyse (IFM 5.21 CB PO18, 5. Semester) Blatt 05x: Interpreter (IFM 5.21 CB PO18, 5. Semester) Blatt 06x: C&#43;&#43; und dyn. Speicherverwaltung (IFM 5.21 CB PO18, 5. Semester)">
    <meta property="og:locale" content="de_DE">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Praktikum">
    <meta itemprop="description" content="Hier finden Sie die Übungsblätter.
Blatt 07: Mini-Projekt C&#43;&#43; Blatt 01: Reguläre Sprachen Blatt 02: CFG Blatt 03: ANTLR Blatt 04: Semantische Analyse Blatt 05: Interpreter Blatt 06: C&#43;&#43; Blatt 07x: Mini-Projekt C&#43;&#43; (IFM 5.21 CB PO18, 5. Semester) Blatt 04x: Semantische Analyse (IFM 5.21 CB PO18, 5. Semester) Blatt 05x: Interpreter (IFM 5.21 CB PO18, 5. Semester) Blatt 06x: C&#43;&#43; und dyn. Speicherverwaltung (IFM 5.21 CB PO18, 5. Semester)">
    <meta itemprop="wordCount" content="70">
    <title>Praktikum</title>
    <link href="https://www.hsbi.de/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework.html" rel="canonical" type="text/html" title="Praktikum">

    

    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/images/logo.png?1739788418" rel="icon" type="image/png">

    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/fontawesome-all.min.css?1739788418" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/fontawesome-all.min.css?1739788418" rel="stylesheet"></noscript>
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/nucleus.css?1739788418" rel="stylesheet">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/auto-complete.css?1739788418" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/auto-complete.css?1739788418" rel="stylesheet"></noscript>
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/perfect-scrollbar.min.css?1739788418" rel="stylesheet">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/fonts.css?1739788418" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/fonts.css?1739788418" rel="stylesheet"></noscript>
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/theme.css?1739788418" rel="stylesheet">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/theme-auto.css?1739788418" rel="stylesheet" id="R-variant-style">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/chroma-auto.css?1739788418" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/variant.css?1739788418" rel="stylesheet">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/print.css?1739788418" rel="stylesheet" media="print">
    <link href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/css/format-print.css?1739788418" rel="stylesheet">
    <script src="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/js/variant.js?1739788418"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='.';
      window.relearn.relBaseUri='..\/..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/www.hsbi.de\/elearning\/data\/FH-Bielefeld\/lm_data\/lm_1360443';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.index_js_url="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/index.search.js?1739788418";
      // variant stuff
      window.variants && variants.init( [ 'auto', 'zen-light', 'zen-dark', 'relearn-bright', 'relearn-light', 'relearn-dark' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script><style type="text/css">

 
.center {
    align-content: center;
    text-align: center;
    margin: auto;
}
.alert {
    color: #ff3333;
}
.bsp {
    padding: 0.05cm;
    border-width: 0.05cm;
    border-style: solid;
    border-color: #ddd;
    background-color: #ddd;
    border-radius: 25px;
    float: right;
}
.cbox {
    padding: 0.2cm;
    border-width: 0.1cm;
    border-style: solid;
    border-color: #4070a0;
    background-color: #f2f2f2;
    margin: auto;
    width: 60%;
    text-align: center;
    overflow: auto;
}
.blueArrow {
    color: #4070a0;
    font-family: "Courier New", "Courier", monospace;
    font-weight: bold;
}
.origin {
    background-color: #ededed;
    font-size: 0.8em;
}
.showme {
    background-color: #ededed;
    font-size: 0.8em;
}


 
.tldr {
    background: #dbe4ed;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.recap {
    
    
   margin: 4px 0px 26px 0px;
}
.bib {
    background: #dbe4ed;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.outcomes {
    background: #d9e9d5;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.quizzes {
    background: #d9e9d5;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.challenges {
    background: #ebe4d6;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
.assignments {
    background: #ebe4d6;
    padding: 12px;
    margin: 4px 0px 26px 0px;
}
h1.tldr, h1.recap, h1.bib, h1.outcomes, h1.quizzes, h1.challenges, h1.assignments {
    padding: 0px;
}


 
.noJsAlert {
    padding: 20px;
    background-color: #f44336;  
    color: white;
    margin-bottom: 15px;
}


 
.embed-video-player {
    position: relative;
    padding-bottom: 56%;
    height: 0;
    overflow: hidden;
}
.youtube-player {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border:0;
}


 
#header-wrapper {
    padding:0.6rem;
}


 
#shortcuts {
    padding-top: 2.0rem;
}


 
#chapter p {
    text-align: left;
}


 
figcaption h4 {
    margin-top:-2.5rem;
}
.border1 {
    border:1px solid black;
}

 
td ul, td ol {
    margin: 0 0 1rem 0.5rem;
    padding: 0 0 0 0.5rem;
}

 
h1 { font-size:2.8rem !important;}
h2 { font-size:2.2rem; margin:1.2rem 0}
h3 { font-size:1.9rem; text-align:left !important; font-weight:400 !important;}
h4 { font-size:1.6rem}
h5 { font-size:1.3rem}
h6 { font-size:1rem}

h2 {
    width:100% !important;
    border-bottom:1px solid #5e5e5e !important;
    padding-bottom: 2px;
}
.tldr h2, .recap h2, .bib h2, .outcomes h2, .quizzes h2, .challenges h2, .assignments h2 {
    margin:0.5rem 0
}

.btn-crossreference, .btn-crossreference:hover {
    cursor: initial;
}

</style>

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <span class="topbar-breadcrumbs highlightable">
            Praktikum
          </span>
          <div class="topbar-area topbar-area-end" data-area="end">
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="praktikum">Praktikum</h1>

<p>Hier finden Sie die Übungsblätter.</p>
<ul class="children children-li children-sort-">
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet07.html">Blatt 07: Mini-Projekt C&#43;&#43;</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet01.html">Blatt 01: Reguläre Sprachen</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet02.html">Blatt 02: CFG</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet03.html">Blatt 03: ANTLR</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet04.html">Blatt 04: Semantische Analyse</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet05.html">Blatt 05: Interpreter</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet06.html">Blatt 06: C&#43;&#43;</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet07x.html">Blatt 07x: Mini-Projekt C&#43;&#43; (IFM 5.21 CB PO18, 5. Semester)</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet04x.html">Blatt 04x: Semantische Analyse (IFM 5.21 CB PO18, 5. Semester)</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet05x.html">Blatt 05x: Interpreter (IFM 5.21 CB PO18, 5. Semester)</a></li>
  <li><a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet06x.html">Blatt 06x: C&#43;&#43; und dyn. Speicherverwaltung (IFM 5.21 CB PO18, 5. Semester)</a></li>
</ul>

            <footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Praktikum</h1>
<article class="default">
<h1>Blatt 07: Mini-Projekt C&#43;&#43;</h1>












    
    

    <h2 id="aufgabe">Aufgabe</h2>
<p>Entwickeln Sie in Ihrem 3er-Team gemeinsam einen Interpreter <em>oder</em> einen Compiler für C++.</p>
<p>Nutzen Sie als Implementierungssprache Java.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> Sie sollen ANTLR zur Erstellung Ihres Lexers
und Parsers einsetzen (Lernziel).</p>
<p>Entwickeln Sie verschiedene Eingabebeispiele in unterschiedlicher Komplexität, mit denen Sie
Ihren Interpreter bzw. Compiler testen können.</p>
<h3 id="variante-a-interpreter">Variante A: Interpreter</h3>
<p>Der Interpreter muss den zu interpretierenden C++-Code aus einer Datei einlesen können.</p>
<p>Sie brauchen keine interaktive Interpretation implementieren, d.h. eine REPL ist nicht
notwendig. Der Interpreter muss bei Bedarf an relevanten Stellen einen Log-Output erzeugen, um
die Arbeitsweise des Programms nachvollziehen zu können. Das Arbeitsergebnis soll auf der
Konsole ausgegeben werden.</p>
<h3 id="variante-b-compiler">Variante B: Compiler</h3>
<p>Der Compiler muss den zu kompilierenden C++-Code aus einer Datei einlesen können.</p>
<p>Der Compiler soll aus dem eingegebenen C++-Code passenden gültigen Java-Code erzeugen und in
eine Datei speichern. Definieren Sie ggf. nötige Hilfsbibliotheken, so dass man den
generierten Code zusammen mit den Hilfsbibliotheken mit Java übersetzen und ausführen kann.</p>
<h3 id="sprachumfang">Sprachumfang</h3>
<p>Sie sollen mindestens folgende C++-Konzepte unterstützen:</p>
<ul>
<li>Basisdatentypen: <code>bool</code>, <code>int</code>, <code>char</code></li>
<li>Variablen</li>
<li>Arrays</li>
<li>C++-Referenzen</li>
<li>Zuweisungen und Expressions</li>
<li>Kontrollfluss: <code>if</code>-<code>then</code>-<code>else</code>, <code>while</code>-Schleifen</li>
<li>Funktionen (Definition, Deklaration, Aufrufe)</li>
<li>Klassen (mit Attributen und Methoden)</li>
<li>Einfach-Vererbung</li>
<li>Polymorphie (dynamisch, statisch)</li>
<li>Eingebaute Funktionen: <code>print_bool</code>, <code>print_int</code>, <code>print_char</code> (Ausgabe eines Werts des
jeweiligen Typs auf der Konsole)</li>
</ul>
<p>Beachten Sie bei der Umsetzung, dass Polymorphie in C++ etwas anders funktioniert als in Java.</p>
<p>Andere mit C++ verbundene Konzepte wie beispielsweise Präprozessor, Header-Files, Pointer,
Templates, Sichtbarkeiten in Klassen, Trennung Deklaration/Implementierung bei Klassen
(Trennung .h und .cpp) oder Initialisierungslisten<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> brauchen Sie nicht umsetzen.</p>
<p>Sie finden im <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/tree/master/homework/src/cpp" rel="external" target="_blank">CB-Repo</a> einige Beispiele, die mindestens umgesetzt werden sollten und die Sie
zum Testen Ihres Interpreters bzw. Compilers nutzen können. Beachten Sie, dass diese Sammlung
nicht vollständig ist.</p>
<h3 id="projektvorstellung-walk-through-statt-präsentation">Projektvorstellung: Walk-Through statt Präsentation</h3>
<p>Stellen Sie Ihr Projekt am Semesterende vor (Termine siehe Fahrplan und Ankündigung).</p>
<p>Jedes Team hat dafür 20 Minuten Zeit.</p>
<p>Gehen Sie dabei am Code durch Ihr Projekt und diskutieren Sie relevante Teile, mindestens
aber:</p>
<ul>
<li>Grammatik</li>
<li>AST</li>
<li>Semantische Analyse</li>
<li>Interpreter bzw. Compiler</li>
</ul>
<p>Demonstrieren Sie die Funktionsfähigkeit mit Ihren C++-Codebeispielen.</p>
<p><strong>Sie sollen keine Folien erstellen. Die Präsentation soll live in der IDE erfolgen.</strong></p>
<h2 id="abgabeformat">Abgabeformat</h2>
<p>Reichen Sie den als ZIP-Datei zusammengepackten Quellcode des Interpreters bzw. Compilers
elektronisch über ILIAS ein.</p>
<h2 id="bewertungskriterien">Bewertungskriterien</h2>
<ol>
<li>
<p><strong>Inhalt (40 Punkte)</strong></p>
<ul>
<li><strong>Aufgabenstellung (30 Punkte)</strong>: Wurden alle Aspekte der Zielsprache sinnvoll
umgesetzt?</li>
<li><strong>Argumentation und Nachvollziehbarkeit (10 Punkte)</strong>: Sind die Konzepte logisch und
schlüssig dargestellt? Werden die Aussagen durch relevante Code-Stellen gestützt?</li>
</ul>
</li>
<li>
<p><strong>Verschiedenes (10 Punkte)</strong></p>
<ul>
<li><strong>Roter Faden (5 Punkte)</strong>: Wird der rote Faden während des gesamten Walk-Through
beibehalten? Ist der Zusammenhang zwischen den einzelnen Punkten nachvollziehbar?</li>
<li><strong>Zeitmanagement (5 Punkte)</strong>: Wurde der Zeitrahmen (20 Minuten pro Vortrag)
eingehalten?</li>
</ul>
</li>
</ol>
<p>Gesamtbewertung: 50 Punkte</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Nach <strong>Absprache</strong> können Sie auch eine andere Implementierungssprache verwenden.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Leider werden Initialisierungslisten für den Aufruf der Basisklassenkonstruktoren
benötigt, sofern der Defaultkonstruktor der Basisklasse nicht ausreicht.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 01: Reguläre Sprachen</h1>












    
        <p><strong>(10 Punkte)</strong></p>
    

    <h2 id="a11-sprachen-von-regulären-ausdrücken-1p">A1.1: Sprachen von regulären Ausdrücken (1P)</h2>
<p>Welche Sprache wird von dem folgenden regulären Ausdruck beschrieben?</p>
<span class="math align-center">$a\ +\ a\ (a\ +\ b)^*\ a$</span>
<h2 id="a12-bezeichner-in-programmiersprachen-3p">A1.2: Bezeichner in Programmiersprachen (3P)</h2>
<p>Betrachten Sie eine Programmiersprache, in der die Bezeichner (= Namen für Variablen,
Funktionen, Klassen, Methoden, ...) folgenden Aufbau haben:</p>
<ul>
<li>Alle Variablennamen beginnen mit <strong>V</strong> oder <strong>v</strong></li>
<li>Handelt es sich um globale Variablen, beginnen Sie mit <strong>V</strong>, lokale beginnen mit <strong>v</strong></li>
<li>Funktions- und Methodenparameter beginnen mit <strong>p</strong>, KLassenparameter (bei der Definition
von Vererbung) beginnen mit <strong>P</strong></li>
<li>Weitere Bezeichner müssen mit einem Buchstaben (a-z, A-Z) beginnen</li>
<li>Die folgenden Zeichen dürfen Buchstaben, Ziffern und ein Untersreich sein</li>
<li>Bezeichner dürfen nicht mit einem Unterstrich enden</li>
<li>Alle Bezeichner müssen aus mindestens zwei Zeichen bestehen</li>
</ul>
<p>Entwickeln Sie einen regulären Ausdruck, der den Aufbau der Bezeichner beschreibt. Beachten
Sie, dass Ihr regex alle zulässigen Bezeichner beschreiben muss, aber keinen einzigen
unzulässigen beschreiben darf. Wählen Sie zwei Bezeichner aus der Sprache und zeigen Sie, wie
sie vom regex gematcht werden.</p>
<p>Entwickeln Sie einen DFA, der diese Bezeichner akzeptiert. Beachten Sie, dass Ihr DFA alle
zulässigen Bezeichner akzeptieren muss, aber keinen einzigen unzulässigen akzeptieren darf.
Wählen Sie zwei Bezeichner aus der Sprache und zeigen Sie, wie sie vom Automaten zeichenweise
gelesen und akzeptiert werden.</p>
<p>Entwickeln Sie eine reguläre Grammatik, die diese Bezeichner generiert. Beachten Sie, dass
Ihre Grammatik alle zulässigen Bezeichner generieren können muss, aber keinen einzigen
unzulässigen generieren darf. Wählen Sie zwei Bezeichner aus der Sprache und zeigen Sie die
Ableitungsbäume dazu.</p>
<h2 id="a13-gleitkommazahlen-in-programmiersprachen-2p">A1.3: Gleitkommazahlen in Programmiersprachen (2P)</h2>
<p>Recherchieren Sie zunächst den Aufbau von Gleitkommazahlen in Python und Java.</p>
<p>Erstellen Sie für jede der beiden Programmiersprachen reguläre Ausdrücke, DFAs und reguläre
Grammatiken wie in Aufgabe 1. Verifizieren Sie Ihre Lösungen wie in Aufgabe 1.</p>
<h2 id="a14-mailadressen-1p">A1.4: Mailadressen? (1P)</h2>
<p>Warum ist der folgende regex ungeeignet für die Verarbeitung von Mailadressen?</p>
<span class="math align-center">$(a-z)^+@(a-z).(a-z)$</span>
<p>Bitte beachten Sie, dass die Schreibweise a-z nicht unserer Definition genügt. Eigentlich
müsste jedes Zeichen aufgeführt werden:</p>
<p><span class="math align-center">$a + b + c + c + \ldots + z$</span> ist besser, aber immer noch nicht richtig. Warum?</p>
<p>Anmerkung: Diese Darstellung wird ab jetzt akzeptiert.</p>
<p>Verbessern Sie den gegebenen regulären Ausdruck.</p>
<h2 id="a15-der-zweitletzte-buchstabe-1p">A1.5: Der zweitletzte Buchstabe (1P)</h2>
<p>Entwickeln Sie einen DFA, der nur Wörter über <span class="math align-center">$\Sigma = \lbrace 1,2,3 \rbrace$</span> akzeptiert,
deren zweitletztes Zeichen dasselbe ist wie das zweite.</p>
<h2 id="a16-sprache-einer-regulären-grammatik-2p">A1.6: Sprache einer regulären Grammatik (2P)</h2>
<p>Welche Sprache generiert die folgende Grammatik?</p>
<span class="math align-center">$$\begin{eqnarray}
S &\rightarrow& a A                      \nonumber \\
A &\rightarrow& d B \ | \ b A \ | \ c A  \nonumber \\
B &\rightarrow& a c \ | \ b C \ | \ c A  \nonumber \\
C &\rightarrow& \epsilon                 \nonumber
\end{eqnarray}$$</span>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 02: CFG</h1>












    
        <p><strong>(10 Punkte)</strong></p>
    

    <h2 id="a21-pda-2p">A2.1: PDA (2P)</h2>
<p>Erstellen Sie einen deterministischen PDA, der die Sprache</p>
<span class="math align-center">$$L = \lbrace w \in \lbrace a, b, c \rbrace^* \; | \; w \; \text{hat doppelt so viele a's wie c's} \rbrace$$</span>
<p>akzeptiert.</p>
<p>Beschreiben Sie Schritt für Schritt, wie der PDA die Eingaben <em>bcaba</em> und <em>bccac</em> abarbeitet.</p>
<h2 id="a22-akzeptierte-sprache-1p">A2.2: Akzeptierte Sprache (1P)</h2>
<p>Ist der folgenden PDA deterministisch? Warum (nicht)?</p>
<p><span class="math align-center">$q_4$</span> sei der akzeptierende Zustand.</p>
<span class="math align-center">$$\begin{eqnarray}
\delta(q_0,a, \perp) &=& (q_0, A\perp)           \nonumber \\
\delta(q_0,a, A) &=& (q_0, AA)                   \nonumber \\
\delta(q_0,b, A) &=& (q_1, BA)                   \nonumber \\
\delta(q_1,b, B) &=& (q_1, BB)                   \nonumber \\
\delta(q_1,c, B) &=& (q_2, \epsilon)             \nonumber \\
\delta(q_2,c, B) &=& (q_2, \epsilon)             \nonumber \\
\delta(q_2,d, A) &=& (q_3, \epsilon)             \nonumber \\
\delta(q_3,d, A) &=& (q_3, \epsilon)             \nonumber \\
\delta(q_3,d, A) &=& (q_3, AA)                   \nonumber \\
\delta(q_3,\epsilon, \perp) &=& (q_4, \epsilon)  \nonumber
\end{eqnarray}$$</span>
<p>Zeichnen Sie den Automaten. Geben Sie das 7-Tupel des PDa an. Welche Sprache akzeptiert er?</p>
<h2 id="a23-kontextfreie-sprache-1p">A2.3: Kontextfreie Sprache (1P)</h2>
<p>Welche Sprache generiert die folgende kontextfreie (Teil-) Grammatik?</p>
<span class="math align-center">$$G = (\lbrace \text{Statement}, \text{Condition}, \ldots \rbrace, \lbrace \text{"if"}, \text{"else"}, \ldots \rbrace, P, \text{Statement})$$</span>
<p>mit</p>
<span class="math align-center">$$\begin{eqnarray}
P = \lbrace &&                                                                                                           \nonumber \\
&\text{Statement}& \rightarrow \text{"if" Condition Statement} \; | \; \text{"if" Condition Statement "else" Statement}  \nonumber \\
&\text{Condition}& \rightarrow \ldots                                                                                    \nonumber \\
\rbrace                                                                                                                  \nonumber
\end{eqnarray}$$</span>
<p>Ist die Grammatik mehrdeutig? Warum (nicht)?</p>
<h2 id="a24-kontextfreie-grammatik-2p">A2.4: Kontextfreie Grammatik (2P)</h2>
<p>Entwickeln Sie eine kontextfreie Grammatik für die Sprache</p>
<span class="math align-center">$$L = \lbrace a^ib^jc^k \; | \; i = j \lor j = k \rbrace$$</span>
<p>Zeigen Sie, dass die Grammatik mehrdeutig ist. Entwickeln Sie einen PDA für diese Sprache.</p>
<h2 id="a25-kontextfreie-grammatik-4p">A2.5: Kontextfreie Grammatik (4P)</h2>
<p>Betrachten sie die folgende Grammatik:</p>
<span class="math align-center">$$G = (\lbrace S, A \rbrace, \lbrace 1, 2, 3 \rbrace, P, S)$$</span>
<p>mit</p>
<span class="math align-center">$$\begin{eqnarray}
P = \lbrace &&                        \nonumber \\
&S& \rightarrow 1AS \; | \; 3         \nonumber \\
&A& \rightarrow 2AS \; | \; \epsilon  \nonumber \\
\rbrace                               \nonumber
\end{eqnarray}$$</span>
<p>Berechnen die die <em>First-</em> und <em>Follow-Mengen</em> der Grammatik.</p>
<p>Zeigen Sie, dass die Grammatik LL(1) ist.</p>
<p>Konstruieren Sie die LL-Parsertabelle für die Grammatik und simulieren Sie das Parsen des
Wortes <em>1233</em>.</p>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 03: ANTLR</h1>












    
        <p><strong>(10 Punkte)</strong></p>
    

    <h2 id="zusammenfassung">Zusammenfassung</h2>
<p>Ziel dieses Aufgabenblattes ist die Erstellung eines einfachen <em>Pretty Printers</em> für eine
einfache fiktive Sprache mit Expressions und Kontrollstrukturen.</p>
<p>Dazu werden Sie eine passende kontextfreie Grammatik definieren mit Lexer- und Parser-Regeln
und dabei auch übliche Vorrangregeln beachten.</p>
<p>Für diese Grammatik erstellen Sie mit Hilfe von ANTLR einen Lexer und einen Parser, die zu
einem Eingabeprogramm einen Parse-Tree erzeugen.</p>
<p>Den im Parse-Tree repräsentierten Code des Eingabeprogramms können Sie mit Hilfe einer
Traversierung konsistent eingerückt wieder auf der Standardausgabe ausgeben - das ist der
<em>Pretty Printer</em>.</p>
<p>Sie werden merken, dass viele Strukturen im Parse-Tree für diese Aufgabe nicht relevant sind
und den Baum mit einer weiteren Traversierung in einen vereinfachten Baum, den sogenannten
Abstract-Syntex-Tree (<em>AST</em>), transformieren und diesen erneut als formatierten Code auf der
Konsole ausgeben.</p>
<h2 id="methodik">Methodik</h2>
<p>Nutzen Sie das <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/tree/master/homework/src/sample_project" rel="external" target="_blank">Starter-Projekt</a> in der Vorgabe.</p>
<p>Laden Sie sich das Projekt herunter, binden Sie es in Ihre IDE ein und vergewissern Sie sich,
dass alles funktioniert: Führen Sie das enthaltene Programm aus, ändern Sie die mitgelieferten
Beispielgrammatik.</p>
<p>Bauen Sie dann Ihre Grammatik für die Aufgabe schrittweise auf. Testen Sie diese mit Hilfe der
Beispielprogramme der Zielsprache (s.u.) und überlegen Sie sich selbst weitere Code-Schnipsel,
die Sie mit Ihrem Parser einlesen bzw. die Ihr Parser zurückweisen sollte.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> Es empfiehlt
sich, in dieser Phase mit dem <a href="https://plugins.jetbrains.com/plugin/7358-antlr-v4" rel="external" target="_blank">ANTLR-Plugin für IntelliJ</a> zu arbeiten.</p>
<p>Erkunden Sie dann die Strukturen Ihres Parse-Trees. Diese sind an die Regeln Ihrer Grammatik
gekoppelt und sind deshalb so individuell wie Ihre Grammatik. Mit einer Traversierung des
Baumes können Sie die gewünschte Ausgabe programmieren und auch die Erstellung des
vereinfachten Baumes (AST).</p>
<h2 id="sprachdefinition">Sprachdefinition</h2>
<p>Ein Programm besteht aus einer oder mehreren Anweisungen (<em>Statements</em>).</p>
<h3 id="anweisungen-statements">Anweisungen (<em>Statements</em>)</h3>
<p>Eine Anweisung ist eine einzeilige Befehlsfolge, beispielsweise eine Zuweisung oder eine
Operation. Sie muss immer mit einem Newline abgeschlossen werden. Eine Anweisung hat keinen
Wert.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span>  <span style="color:#75715e"># Zuweisung des Ausdruckes 10-5 (Integer-Wert 5) an die Variable a</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;foo&#34;</span>   <span style="color:#75715e"># Zuweisung des Ausdrucks &#34;foo&#34; (String) an die Variable b</span></span></span></code></pre></div>
<p>Kontrollstrukturen (s.u.) zählen ebenfalls als Anweisungen.</p>
<h3 id="ausdrücke-expressions">Ausdrücke (<em>Expressions</em>)</h3>
<p>Die einfachsten Ausdrücke sind Integer- oder String-Literale. Variablen sind ebenfalls
Ausdrücke. Komplexere Ausdrücke werden mit Hilfe von Operationen gebildet, dabei sind die
Operanden jeweils auch wieder Ausdrücke. Ein Ausdruck hat/ergibt immer einen Wert.</p>
<p>Die Operatoren besitzen eine Rangfolge, um verschachtelte Operationen aufzulösen. Sie dürfen
daher nicht einfach von links nach rechts aufgelöst werden. Die Rangfolge der Operatoren
entspricht der üblichen Semantik (vgl. Java, C, Python).</p>
<p>Es gibt in unserer Sprache folgende Operationen mit der üblichen Semantik:</p>
<h4 id="vergleichsoperatoren">Vergleichsoperatoren</h4>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Operation</th>
          <th style="text-align: center">Operator</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Gleichheit</td>
          <td style="text-align: center"><code>==</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Ungleichheit</td>
          <td style="text-align: center"><code>!=</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Größer</td>
          <td style="text-align: center"><code>&gt;</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Kleiner</td>
          <td style="text-align: center"><code>&lt;</code></td>
      </tr>
  </tbody>
</table>
<h4 id="arithmetische-operatoren">Arithmetische Operatoren</h4>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Operation</th>
          <th style="text-align: center">Operator</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Addition / String-Literal-Verkettung</td>
          <td style="text-align: center"><code>+</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Subtraktion</td>
          <td style="text-align: center"><code>-</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Multiplikation</td>
          <td style="text-align: center"><code>*</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Division</td>
          <td style="text-align: center"><code>/</code></td>
      </tr>
  </tbody>
</table>
<h4 id="beispiele-für-ausdrücke">Beispiele für Ausdrücke</h4>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">10</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span>  <span style="color:#75715e"># Der Integer-Wert 5</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;foo&#34;</span>   <span style="color:#75715e"># Der String &#34;foo&#34;</span>
</span></span><span style="display:flex;"><span>a       <span style="color:#75715e"># Wert der Variablen a</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">+</span> b   <span style="color:#75715e"># Ergebnis der Addition der Variablen a und b</span></span></span></code></pre></div>
<h3 id="bezeichner">Bezeichner</h3>
<p>Werden zur Bezeichnung von Variablen verwendet. Sie bestehen aus einer Zeichenkette der
Zeichen <code>a-z</code>,<code>A-Z</code>, <code>0-9</code>, <code>_</code>. Bezeichner dürfen nicht mit einer Ziffer <code>0-9</code> beginnen.</p>
<h3 id="variablen">Variablen</h3>
<p>Variablen bestehen aus einem eindeutigen Bezeichner (Variablennamen). Den Variablen können
Werte zugewiesen werden und Variablen können als Werte verwendet werden. Die Zuweisung erfolgt
mithilfe des <code>:=</code>-Operators. Auf der rechten Seite der Zuweisung können auch Ausdrücke stehen.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">5</span>      <span style="color:#75715e"># Zuweisung des Wertes 5 an die Variable a</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>  <span style="color:#75715e"># Zuweisung des Wertes 5 an die Variable a</span></span></span></code></pre></div>
<h3 id="kommentare">Kommentare</h3>
<p>Kommentare werden durch das Zeichen <code>#</code> eingeleitet und umfassen sämtliche Zeichen bis zum
nächsten Newline.</p>
<h3 id="kontrollstrukturen">Kontrollstrukturen</h3>
<h4 id="while-schleife">While-Schleife</h4>
<p>While-Schleifen werden mit dem Schlüsselwort <code>while</code> eingeleitet. Sie bestehen im Weiteren aus
einer Bedingung, die durch ein <code>do</code> abgeschlossen wird, einer Folge von Anweisungen und werden
mit dem Schlüsselwort <code>end</code> abgeschlossen.</p>
<p>Die Bedingung kann aus einem Vergleichsausdruck bestehen.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#f92672">&lt;</span>Bedingung<span style="color:#f92672">&gt;</span> do
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_1<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_2<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>end</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> a <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> do
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">:=</span> a <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">:=</span> b <span style="color:#f92672">+</span> <span style="color:#ae81ff">9</span>
</span></span><span style="display:flex;"><span>end</span></span></code></pre></div>
<h4 id="bedingte-anweisung-if-else">Bedingte Anweisung (If-Else)</h4>
<p>Eine bedingte Anweisung besteht immer aus genau einer <code>if</code>-Anweisung, gefolgt von einer
Bedingung, die mit einem <code>do</code> abgeschlossen wird und einer Folge von Anweisungen.</p>
<p>Danach wird die bedingte Anweisung entweder mit dem Schlüsselwort <code>end</code> abgeschlossen oder es
folgt genau ein <code>else</code>-Teil.</p>
<p>Ein <code>else</code>-Teil wird mit dem Schlüsselwort <code>else</code> eingeleitet. Darauf folgt ein <code>do</code> und eine
Folge von Anweisungen. Der <code>else</code>-Teil wird mit dem Schlüsselwort <code>end</code> abgeschlossen.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">&lt;</span>Bedingung<span style="color:#f92672">&gt;</span> do
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_1<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_2<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>end</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">&lt;</span>Bedingung<span style="color:#f92672">&gt;</span> do
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span> do
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>end</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;abc&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> a <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#34;abc&#34;</span> do
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;wuppie&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span> do
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;nope&#34;</span>
</span></span><span style="display:flex;"><span>end</span></span></code></pre></div>
<h3 id="datentypen">Datentypen</h3>
<p>Unsere Sprache hat zwei eingebaute Datentypen, für die entsprechende Literale erkannt werden
müssen:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Datentyp</th>
          <th style="text-align: left">Definition der Literale</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>int</code></td>
          <td style="text-align: left">eine beliebige Folge der Ziffern <code>0-9</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><code>string</code></td>
          <td style="text-align: left">eine beliebige Folge von ASCII-Zeichen, eingeschlossen in <code>&quot;</code></td>
      </tr>
  </tbody>
</table>
<p>Die Sprache ist dynamisch typisiert, d.h. beim Parsen werden Ihnen keine Typ-Angaben im Code
begegnen. Aber Sie müssen die entsprechenden Werte (Literale) parsen können.</p>
<h3 id="beispiele">Beispiele</h3>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;wuppie fluppie&#34;</span></span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> do
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span> do
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">7</span>
</span></span><span style="display:flex;"><span>end</span></span></code></pre></div>
<h2 id="aufgaben">Aufgaben</h2>
<h3 id="a31-grammatik-4p">A3.1: Grammatik (4P)</h3>
<p>Definieren Sie für die obige Sprache eine geeignete ANTLR-Grammatik.</p>
<p>Sie werden sowohl Lexer- als auch (rekursive) Parser-Regeln benötigen. Beachten Sie die
üblichen Vorrangregeln für die Operatoren, orientieren Sie sich hier an Sprachen wie Java oder
Python oder C.</p>
<h3 id="a32-pretty-printer-3p">A3.2: Pretty Printer (3P)</h3>
<p>Erzeugen Sie mithilfe der Grammatik und ANTLR einen Lexer und Parser. Damit können Sie
syntaktisch korrekte Eingabe-Programme in einen Parse-Tree überführen.</p>
<p>Programmieren Sie eine Traversierung Ihres Parse-Trees, in der Sie syntaktisch korrekte
Programme konsistent eingerückt ausgeben können.</p>
<p>Jede Anweisung soll auf einer eigenen Zeile stehen. Die Einrückung soll mit Leerzeichen
erfolgen und konsistent sein. Sie brauchen keine Begrenzung der Zeilenlänge implementieren.</p>
<p>Demonstrieren Sie die Fähigkeiten an mehreren Beispielen mit unterschiedlicher Komplexität.</p>
<p>Beispiel:</p>
<p>Aus</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a     <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>    <span style="color:#ae81ff">10</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>       do
</span></span><span style="display:flex;"><span>a    <span style="color:#f92672">:=</span>     <span style="color:#ae81ff">42</span>      <span style="color:#75715e"># Zuweisung des Wertes 42 an die Variable a</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span> do
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">:=</span>      <span style="color:#ae81ff">7</span>
</span></span><span style="display:flex;"><span>  end</span></span></code></pre></div>
<p>soll</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> do
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span> do
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">7</span>
</span></span><span style="display:flex;"><span>end</span></span></code></pre></div>
<p>werden.</p>
<p><strong>Hinweis</strong>: Es geht nur um die Ausgabe syntaktisch korrekter Programme. Sie brauchen sich um
die Semantik (z.B. passende Typen wie etwa keine Multiplikation von Strings mit Integern o.ä.)
noch keine Gedanken machen! Achten Sie auf die korrekten Einrücktiefen. Die Zeilenlänge spielt
hier keine Rolle, es wird einfach direkt nach jedem Statement umgebrochen (bzw. wie bei den
Kontrollstrukturen gezeigt).</p>
<p><strong>Hinweis</strong>: Das Thema Pretty Printing ist interessant und kann recht schnell ziemlich
aufwändig werden. Sie finden im Paper <a href="https://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf" rel="external" target="_blank">&quot;A prettier printer&quot;</a> von Philip Wadler
<a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet03.html#id_wadler2003prettier">[wadler2003prettier]</a> und im Blog <a href="https://journal.stuffwithstuff.com/2015/09/08/the-hardest-program-ive-ever-written/" rel="external" target="_blank">&quot;The Hardest Program I've Ever Written&quot;</a> von Bob Nystrom
<a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet03.html#id_Nystrom2015">[Nystrom2015]</a> gut geschriebene Beiträge, um tiefer in die Materie einzusteigen.</p>
<h3 id="a33-ast-3p">A3.3: AST (3P)</h3>
<p>Beim Parsen bekommen Sie von ANTLR einen Parse-Tree zurück, der direkt die Struktur Ihrer
Grammatik widerspiegelt. Die einzelnen Zweige sind damit in der Regel aber auch viel zu tief
verschachtelt.</p>
<p>Überlegen Sie sich, welche Informationen/Knoten Sie für die formatierte Ausgabe wirklich
benötigen - das ist Ihr Abstract-Syntex-Tree (<em>AST</em>).</p>
<p>Programmieren Sie eine Transformation des Parse-Tree in die von Ihnen hier formulierten
AST-Strukturen. Dies können Sie beispielsweise mit einer passenden Traversierung
(Visitor-Pattern) erreichen.</p>
<p>Passen Sie den Pretty-Printer so an, dass er auch den AST ausgeben kann. (Alternativ können
auch einen zweiten Pretty-Printer für den AST implementieren.)</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Um den Text lesbar zu halten, wird hier oft nur von &quot;Parser&quot; gesprochen - gemeint ist
aber die gesamte auf diesem Blatt zu erstellende Toolchain: Lexer - Parser - AST -
Ausgabe.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>


    




    
    
        
        

        
            
            
            
            
            

            
            
                
                    
                
            
            
            
            
            
            

            
            
                
            
            
                
                
                
            
            
            
        
    
        
        

        
            
            
            
            
            

            
            
                
                    
                
            
            
            
            
            
            

            
            
                
            
            
                
                
                
            
            
            
        
    
    

    <div class="box notices cstyle info">
  <div class="box-label">
    <i class="fas fa-book-reader"></i> Quellen
  </div>
  <div class="box-content">
<ul> <li id='id_Nystrom2015'>[Nystrom2015] <a href='https://journal.stuffwithstuff.com/2015/09/08/the-hardest-program-ive-ever-written/' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'><strong>The Hardest Program I've Ever Written</strong></a><br>Nystrom, R., 2015.</li> <li id='id_wadler2003prettier'>[wadler2003prettier] <a href='https://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf' class='icon reading' target='_blank' rel='nofollow noopener noreferrer'><strong>A prettier printer</strong></a><br>Wadler, P., Citeseer, 2003.</li></ul>
  </div>
</div>






<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 04: Semantische Analyse</h1>












    
        <p><strong>(10 Punkte)</strong></p>
    

    <h2 id="zusammenfassung">Zusammenfassung</h2>
<p>Ziel dieses Aufgabenblattes ist die Erstellung einer Symboltabelle und eines einfachen
Type-Checkers für eine fiktive statisch typisierte Sprache mit Expressions, Kontrollstrukturen
und Funktionen.</p>
<h2 id="methodik">Methodik</h2>
<p>Sie finden im <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/tree/master/homework/src/sample_project" rel="external" target="_blank">Sample Project</a> eine <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/homework/src/sample_project/src/main/antlr/MiniC.g4" rel="external" target="_blank">Grammatik</a>, die (teilweise) zu der Zielsprache auf diesem
Blatt passt. Analysieren Sie diese Grammatik und vervollständigen Sie diese bzw. passen Sie
diese an.</p>
<p>Erstellen Sie mit dieser Grammatik und ANTLR wieder einen Lexer und Parser. Definieren Sie
einen AST und konvertieren Sie Ihren Parse-Tree in einen AST.</p>
<p>Es ist empfehlenswert, den Type-Checker dreiphasig zu realisieren:</p>
<ol>
<li>Aufbauen der Symboltabelle und Prüfen von z.B. Deklaration/Definition vs. Benutzung
(Variablen) usw.</li>
<li>Prüfen bei Funktionsaufrufen auf vorhandene/sichtbare Funktionsdefinitionen</li>
<li>Prüfen der verwendeten Typen</li>
</ol>
<h2 id="sprachdefinition">Sprachdefinition</h2>
<p>Ein Programm besteht aus einer oder mehreren Anweisungen (<em>Statements</em>).</p>
<h3 id="anweisungen-statements">Anweisungen (<em>Statements</em>)</h3>
<p>Eine Anweisung ist eine Befehlsfolge, beispielsweise eine Deklaration (Funktionen), Definition
(Variablen, Funktionen), Zuweisung, ein Funktionsaufruf oder eine Operation. Sie muss immer
mit einem Semikolon abgeschlossen werden. Eine Anweisung hat keinen Wert.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int a;           <span style="color:#75715e"># Definition der Integer-Variablen a</span>
</span></span><span style="display:flex;"><span>int b <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span>;  <span style="color:#75715e"># Definition der Integer-Variablen b und Zuweisung des Ausdruckes 10-5 (Integer-Wert 5)</span>
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;foo&#34;</span>;       <span style="color:#75715e"># Zuweisung des Ausdrucks &#34;foo&#34; (String) an die Variable c (diese muss dazu vorher definiert und sichtbar sein)</span>
</span></span><span style="display:flex;"><span>func1(a, c);     <span style="color:#75715e"># Funktionsaufruf mit Variablen a und c</span></span></span></code></pre></div>
<p>Kontrollstrukturen und Code-Blöcke sowie <code>return</code>-Statements zählen ebenfalls als Anweisung.</p>
<h3 id="code-blöcke-und-scopes">Code-Blöcke und Scopes</h3>
<p>Code-Blöcke werden in geschweifte Klammern eingeschlossen und enthalten eine beliebige Anzahl
von Anweisungen.</p>
<p>Jeder Code-Block bildet einen eigenen Scope - alle Deklarationen/Definition in diesem Scope
sind im äußeren Scope nicht sichtbar. Im Scope kann auf die Symbole des/der umgebenden Scopes
zugegriffen werden. Symbole in einem Scope können gleichnamige Symbole im äußeren Scope
verdecken.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># globaler Scope</span>
</span></span><span style="display:flex;"><span>int a <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span>int d;
</span></span><span style="display:flex;"><span>{   <span style="color:#75715e"># erster innerer Scope</span>
</span></span><span style="display:flex;"><span>    int b <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;      <span style="color:#75715e"># b ist nur in diesem und im zweiten inneren Scope sichtbar</span>
</span></span><span style="display:flex;"><span>    foo(a);         <span style="color:#75715e"># Funktionsaufruf mit der Variable a aus dem äußeren Scope (Wert 7)</span>
</span></span><span style="display:flex;"><span>    int a <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;     <span style="color:#75715e"># Variable verdeckt das a aus dem äußeren Scope</span>
</span></span><span style="display:flex;"><span>    foo(a);         <span style="color:#75715e"># Funktionsaufruf mit der Variable a aus dem aktuellen Scope (Wert 42)</span>
</span></span><span style="display:flex;"><span>    {   <span style="color:#75715e"># zweiter innerer Scope</span>
</span></span><span style="display:flex;"><span>        int c <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>;  <span style="color:#75715e"># dieses c ist nur hier sichtbar</span>
</span></span><span style="display:flex;"><span>        foo(d);     <span style="color:#75715e"># d wird im äußeren Scope gesucht, dort nicht gefunden und im nächsthöheren Scope gesucht (rekursiv)</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>{   <span style="color:#75715e"># dritter innerer Scope</span>
</span></span><span style="display:flex;"><span>    int b;          <span style="color:#75715e"># dieses b hat mit dem b aus dem ersten inneren Scope nichts zu tun</span>
</span></span><span style="display:flex;"><span>    foo(a);         <span style="color:#75715e"># Funktionsaufruf mit der Variable a aus dem äußeren Scope (Wert 7)</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="ausdrücke-expressions">Ausdrücke (<em>Expressions</em>)</h3>
<p>Die einfachsten Ausdrücke sind Integer- oder String-Literale. Variablen und Funktionsaufrufe
sind ebenfalls Ausdrücke. Komplexere Ausdrücke werden mit Hilfe von Operationen gebildet,
dabei sind die Operanden jeweils auch wieder Ausdrücke.</p>
<p>Ein Ausdruck hat immer einen Wert und einen Typ.</p>
<p>Die Operatoren besitzen eine Rangfolge, um verschachtelte Operationen aufzulösen. Sie dürfen
daher nicht einfach von links nach rechts aufgelöst werden. Die Rangfolge der Operatoren
entspricht der üblichen Semantik (vgl. Java, C, Python).</p>
<p>Es gibt in unserer Sprache folgende Operationen mit der üblichen Semantik:</p>
<h4 id="vergleichsoperatoren">Vergleichsoperatoren</h4>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Operation</th>
          <th style="text-align: center">Operator</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Gleichheit</td>
          <td style="text-align: center"><code>==</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Ungleichheit</td>
          <td style="text-align: center"><code>!=</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Größer</td>
          <td style="text-align: center"><code>&gt;</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Kleiner</td>
          <td style="text-align: center"><code>&lt;</code></td>
      </tr>
  </tbody>
</table>
<p>Die Operanden müssen jeweils beide den selben Typ haben. Dabei sind <code>string</code> und <code>int</code>
zulässig. Das Ergebnis ist immer vom Typ <code>bool</code>.</p>
<h4 id="arithmetische-operatoren">Arithmetische Operatoren</h4>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Operation</th>
          <th style="text-align: center">Operator</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Addition / String-Literal-Verkettung</td>
          <td style="text-align: center"><code>+</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Subtraktion</td>
          <td style="text-align: center"><code>-</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Multiplikation</td>
          <td style="text-align: center"><code>*</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Division</td>
          <td style="text-align: center"><code>/</code></td>
      </tr>
  </tbody>
</table>
<p>Die Operanden müssen jeweils beide den selben Typ haben. Für <code>+</code> sind <code>string</code> und <code>int</code>
zulässig, für die anderen Operatoren (<code>-</code>, <code>*</code>, <code>/</code>) nur <code>int</code>. Das Ergebnis ist vom Typ der
Operanden.</p>
<h4 id="beispiele-für-ausdrücke">Beispiele für Ausdrücke</h4>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">10</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span>       <span style="color:#75715e"># Der Integer-Wert 5</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;foo&#34;</span>        <span style="color:#75715e"># Der String &#34;foo&#34;</span>
</span></span><span style="display:flex;"><span>a            <span style="color:#75715e"># Wert der Variablen a (Zugriff auf a)</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">+</span> b        <span style="color:#75715e"># Ergebnis der Addition der Variablen a und b</span>
</span></span><span style="display:flex;"><span>func1(a, b)  <span style="color:#75715e"># Ergebnis des Funktionsaufrufs</span></span></span></code></pre></div>
<p>Ausdrücke werden nicht mit einem Semikolon abgeschlossen. Sie sind also Teil einer Anweisung.</p>
<h3 id="bezeichner">Bezeichner</h3>
<p>Werden zur Bezeichnung von Variablen und Funktionsnamen verwendet. Sie bestehen aus einer
Zeichenkette der Zeichen <code>a-z</code>,<code>A-Z</code>, <code>0-9</code>. Bezeichner dürfen nicht mit einer Ziffer <code>0-9</code>
beginnen.</p>
<h3 id="variablen">Variablen</h3>
<p>Variablen bestehen aus einem eindeutigen Bezeichner (Variablennamen). Den Variablen können
Werte zugewiesen werden und Variablen können als Werte verwendet werden. Die Zuweisung erfolgt
mithilfe des <code>=</code>-Operators. Auf der rechten Seite der Zuweisung können auch Ausdrücke stehen.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int a;         <span style="color:#75715e"># Definition der Variablen a (Typ: Integer)</span>
</span></span><span style="display:flex;"><span>int a <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;     <span style="color:#75715e"># Definition und Initialisierung einer Variablen</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;         <span style="color:#75715e"># Zuweisung des Wertes 5 an die Variable a</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>;     <span style="color:#75715e"># Zuweisung des Wertes 5 an die Variable a</span></span></span></code></pre></div>
<p>Variablen müssen vor ihrer Benutzung (Zugriff, Zuweisung) definiert und im aktuellen Scope
sichtbar sein. Die Initialisierung kann zusammen mit der Definition erfolgen.</p>
<p>Variablen können in einem Scope nicht mehrfach definiert werden.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int a <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;  <span style="color:#75715e"># zulässig - a ist hier sichtbar, Zugriff auf globalen Scope</span>
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>;  <span style="color:#75715e"># unzulässig - b ist nicht definiert</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    int a;  <span style="color:#75715e"># zulässig - erste Definition in diesem Scope</span>
</span></span><span style="display:flex;"><span>    int a;  <span style="color:#75715e"># unzulässig - a ist in diesem Scope bereits definiert</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="kommentare">Kommentare</h3>
<p>Kommentare werden durch das Zeichen <code>#</code> eingeleitet und umfassen sämtliche Zeichen bis zum
nächsten Newline.</p>
<h3 id="kontrollstrukturen">Kontrollstrukturen</h3>
<h4 id="while-schleife">While-Schleife</h4>
<p>While-Schleifen werden mit dem Schlüsselwort <code>while</code> eingeleitet. Sie bestehen im Weiteren aus
einer Bedingung in runden Klammern und einem in geschweiften Klammern formulierten Code-Block.</p>
<p>Die Bedingung besteht aus einem Vergleichsausdruck.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> (<span style="color:#f92672">&lt;</span>Bedingung<span style="color:#f92672">&gt;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_1<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_2<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> (a <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> a <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h4 id="bedingte-anweisung-if-else">Bedingte Anweisung (If-Else)</h4>
<p>Eine bedingte Anweisung besteht immer aus genau einer <code>if</code>-Anweisung, und einer oder keiner
<code>else</code>-Anweisung.</p>
<p>Eine <code>if</code>-Anweisung wird mit dem Schlüsselwort <code>if</code> eingeleitet und besteht aus einer
Bedingung in runden Klammern und einem in geschweiften Klammern formulierten Code-Block.</p>
<p>Die Bedingung besteht aus einem Vergleichsausdruck.</p>
<p>Eine <code>else</code>-Anweisung wird mit dem Schlüsselwort <code>else</code> eingeleitet. Auf das Schlüsselwort
folgt in geschweiften Klammern formulierter Code-Block.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#f92672">&lt;</span>Bedingung<span style="color:#f92672">&gt;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_1<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_2<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#f92672">&lt;</span>Bedingung<span style="color:#f92672">&gt;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (a <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> a <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (a <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> a <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="funktionen">Funktionen</h3>
<h4 id="funktionsdefinition">Funktionsdefinition</h4>
<p>Eine Funktionsdefinition macht dem Compiler die Implementierung einer Funktion bekannt.</p>
<p>Sie gibt zunächst die Signatur der Funktion (den &quot;Funktionskopf&quot;) bekannt: Rückgabetyp,
Funktionsname, Parameterliste.</p>
<p>Die Parameterliste ist eine Komma-separierte Liste mit der Deklaration der Parameter (jeweils
Typ und Variablenname). Die Parameterliste kann auch leer sein.</p>
<p>Nach dem Funktionskopf folgt der Körper der Funktion als Code-Block.</p>
<p>Funktionen können in einem Scope nicht mehrfach definiert werden.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>type <span style="color:#a6e22e">bezeichner</span>(type param1, type param2) {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_1<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span>Anweisung_2<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">&lt;</span>Bezeichner, Wert oder Operation<span style="color:#f92672">&gt;</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">func1</span>(<span style="color:#66d9ef">int</span> a, string b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> c <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> <span style="color:#a6e22e">f2</span>(b);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> c <span style="color:#f92672">==</span> <span style="color:#ae81ff">42</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h4 id="funktionsaufrufe">Funktionsaufrufe</h4>
<p>Funktionsaufrufe bestehen aus einem Bezeichner (Funktionsname) gefolgt von einer in Klammern
angegebenen Liste der Argumente, die auch leer sein kann. Als Argumente können alle passend
typisierten Ausdrücke dienen.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>func1(<span style="color:#ae81ff">5</span>, var1)
</span></span><span style="display:flex;"><span>func1(func2(), <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)</span></span></code></pre></div>
<p>Die aufgerufene Funktion muss im aktuellen Scope sichtbar sein, der Funktionsaufruf muss zur
Definition passen.</p>
<p>Die aufgerufene Funktion muss (im Gegensatz zum Zugriff auf Variablen) nicht vor dem ersten
Aufruf definiert sein. Folgender Code ist also zulässig:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int a <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (a <span style="color:#f92672">==</span> <span style="color:#ae81ff">42</span>) {
</span></span><span style="display:flex;"><span>    foo(<span style="color:#ae81ff">5</span>);    <span style="color:#75715e"># zulässig: foo ist erst nach diesem Aufruf definiert, aber in diesem Scope sichtbar</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>int foo(int a) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> <span style="color:#ae81ff">37</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="datentypen">Datentypen</h3>
<p>Unsere Sprache hat drei eingebaute Datentypen:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Datentyp</th>
          <th style="text-align: left">Definition der Literale</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>int</code></td>
          <td style="text-align: left">eine beliebige Folge der Ziffern <code>0-9</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><code>string</code></td>
          <td style="text-align: left">eine beliebige Folge von ASCII-Zeichen, eingeschlossen in <code>&quot;</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><code>bool</code></td>
          <td style="text-align: left">eines der beiden Schlüsselwörter <code>T</code> oder <code>F</code></td>
      </tr>
  </tbody>
</table>
<h3 id="beispiele">Beispiele</h3>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>string a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;wuppie fluppie&#34;</span>;</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">10</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">foo</span>();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">f95</span>(<span style="color:#66d9ef">int</span> n) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">f95</span>(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">f95</span>(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">f95</span>(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">f95</span>(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">4</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">f95</span>(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">f95</span>(n);</span></span></code></pre></div>
<h2 id="aufgaben">Aufgaben</h2>
<h3 id="a41-grammatik-und-ast-2p">A4.1: Grammatik und AST (2P)</h3>
<p>Erstellen Sie eine ANTLR-Grammatik für die Zielsprache. Sie können dabei die <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/homework/src/sample_project/src/main/antlr/MiniC.g4" rel="external" target="_blank">Grammatik</a> im
<a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/tree/master/homework/src/sample_project" rel="external" target="_blank">Sample Project</a> als Ausgangspunkt nutzen und diese anpassen und vervollständigen.</p>
<p>Definieren Sie einen AST für die Zielsprache. Welche Informationen aus dem Eingabeprogramm
müssen repräsentiert werden?</p>
<p>Programmieren Sie eine Traversierung des Parse-Trees, die den AST erzeugt. Testen Sie dies mit
den obigen Beispielprogrammen und definieren Sie sich selbst weitere Programme
unterschiedlicher Komplexität für diesen Zweck.</p>
<h3 id="a42-aufbau-der-symboltabelle-2p">A4.2: Aufbau der Symboltabelle (2P)</h3>
<p>Bauen Sie für den AST eine Symboltabelle auf. Führen Sie dabei die im ersten Lauf möglichen
Prüfungen durch, beispielsweise ob referenzierte Variablen tatsächlich bereits definiert und
sichtbar sind oder ob eine Variable oder Funktion in einem Scope mehrfach definiert wird oder
ob Variablen als Funktion genutzt werden. Geben Sie erkannte Fehler auf der Konsole aus.</p>
<h3 id="a43-symboltabelle-funktionsaufrufe-1p">A4.3: Symboltabelle: Funktionsaufrufe (1P)</h3>
<p>Implementieren Sie einen zweiten Lauf. Dabei soll für Funktionsaufrufe geprüft werden, ob
diese Funktionen bereits definiert sind und im Scope sichtbar sind. Geben Sie erkannte Fehler
auf der Konsole aus.</p>
<h3 id="a44-symboltabelle-typprüfungen-5p">A4.4: Symboltabelle: Typprüfungen (5P)</h3>
<p>Implementieren Sie einen dritten Lauf. Führen Sie die Typprüfung durch: Haben die Operanden in
Ausdrücken die richtigen Typen, passen die Typen der Funktionsargumente, passen die Typen bei
einer Zuweisung, ... Geben Sie erkannte Fehler auf der Konsole aus. <em>Hinweis</em>: Sie brauchen
hier nur die Typprüfung durchführen. Eine Typinferenz oder Typerweiterung o.ä. ist nicht
notwendig.</p>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 05: Interpreter</h1>












    
        <p><strong>(10 Punkte)</strong></p>
    

    <h2 id="zusammenfassung">Zusammenfassung</h2>
<p>Ziel dieses Aufgabenblattes ist die Erstellung eines Tree-Walking-Interpreter mit ANTLR für
eine Lisp-artige Sprache.</p>
<h2 id="methodik">Methodik</h2>
<p>Sie finden im <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/tree/master/homework/src/sample_project" rel="external" target="_blank">Sample Project</a> zwei Grammatiken (<a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/homework/src/sample_project/src/main/antlr/MiniLispA.g4" rel="external" target="_blank">MiniLispA</a>, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/homework/src/sample_project/src/main/antlr/MiniLispB.g4" rel="external" target="_blank">MiniLispB</a>), die (teilweise) zu
der Zielsprache auf diesem Blatt passen. Analysieren Sie beide Grammatiken und entscheiden Sie
sich für eine der beiden Varianten. Vervollständigen Sie diese bzw. passen Sie diese an.</p>
<p>Erstellen Sie mit dieser Grammatik und ANTLR wieder einen Lexer und Parser.</p>
<p>Es ist empfehlenswert, den Interpreter dreistufig zu realisieren:</p>
<ol>
<li>Einlesen aus einer Datei mit Lisp-Code und Parsen der Inhalte</li>
<li>Aufbauen der Symboltabelle und Durchführung der semantischen Analyse</li>
<li>Ablaufen des Parse-Tree/AST und Auswerten der Ausdrücke (Interpretation)</li>
</ol>
<h2 id="sprachdefinition">Sprachdefinition</h2>
<p>Ein Programm besteht aus einem oder mehreren Ausdrücken (<em>Expressions</em>). Die Ausdrücke haben
eine spezielle Form: Sie sind sogenannte <a href="https://en.wikipedia.org/wiki/S-expression" rel="external" target="_blank">S-Expressions</a>. Dies sind entweder Literale der Form
<code>x</code> oder einfache listenartige Gebilde der Form <code>(. x y)</code>, wobei der <code>.</code> eine Operation (oder
Funktion) darstellt und <code>x</code> und <code>y</code> selbst wieder S-Expressions sind.</p>
<p>Die einfachste Form sind dabei Literale mit konkreten Werten der drei Datentypen <code>Integer</code>,
<code>String</code> und <code>Boolean</code>:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span><span style="color:#ae81ff">42</span>          <span style="color:#75715e">;; Integer</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;hello&#34;</span>     <span style="color:#75715e">;; String</span>
</span></span><span style="display:flex;"><span>true        <span style="color:#75715e">;; Boolean</span>
</span></span><span style="display:flex;"><span>false       <span style="color:#75715e">;; Boolean</span></span></span></code></pre></div>
<p>Für eine Variable <code>foo</code> wäre das Folgende ebenfalls eine S-Expression:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>foo         <span style="color:#75715e">;; Variable foo</span></span></span></code></pre></div>
<p>(Über <code>;;</code> wird ein Kommentar eingeleitet, der bis zum Ende der Zeile geht.)</p>
<p>Komplexere Ausdrücke werden über die Listenform gebildet:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(+ <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span>)               <span style="color:#75715e">;; 1 + 1</span>
</span></span><span style="display:flex;"><span>(/ <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">3</span>)              <span style="color:#75715e">;; 10 / 3</span>
</span></span><span style="display:flex;"><span>(+ <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>)           <span style="color:#75715e">;; 1 + 2 + 3 + 4</span>
</span></span><span style="display:flex;"><span>(+ (+ (+ <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>) <span style="color:#ae81ff">3</span>) <span style="color:#ae81ff">4</span>)   <span style="color:#75715e">;; (((1 + 2) + 3) + 4)</span>
</span></span><span style="display:flex;"><span>(/ (+ <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">2</span>) (+ <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">4</span>))  <span style="color:#75715e">;; ((10 + 2) / (2 + 4))</span></span></span></code></pre></div>
<p>In der listenartigen Form ist der erste Eintrag der Liste immer eine Operation (oder ein
Funktionsname), danach kommen je nach Operation/Funktion (die Arität muss passen!)
entsprechende Einträge, die als Parameter für die Operation oder Funktion zu verstehen sind.</p>
<p>Die Ausdrücke sind implizit von links nach rechts geklammert, d.h. der Ausdruck <code>(+ 1 2 3 4)</code>
ist <a href="https://en.wikipedia.org/wiki/Syntactic_sugar" rel="external" target="_blank"><em>syntactic sugar</em></a> für <code>(+ (+ (+ 1 2) 3) 4)</code>.</p>
<h3 id="eingebaute-funktionen">Eingebaute Funktionen</h3>
<p>Es gibt zwei Funktionen, die fest in der Sprache integriert sind.</p>
<p>Mit der eingebauten Funktion <code>print</code> kann der Wert eines Ausdrucks auf der Konsole ausgegeben
werden:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(print <span style="color:#e6db74">&#34;hello world&#34;</span>)
</span></span><span style="display:flex;"><span>(print <span style="color:#e6db74">&#34;wuppie\nfluppie\nfoo\nbar&#34;</span>)</span></span></code></pre></div>
<p>Die eingebaute Funktion <code>str</code> verknüpft ihre Argumente und bildet einen String. Falls nötig,
werden die Argumente vorher in einen String umgewandelt.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(str <span style="color:#ae81ff">42</span>)                              <span style="color:#75715e">;; liefert &#34;42&#34; zurück</span>
</span></span><span style="display:flex;"><span>(str <span style="color:#e6db74">&#34;wuppie&#34;</span> <span style="color:#e6db74">&#34;fluppie&#34;</span> <span style="color:#e6db74">&#34;foo&#34;</span> <span style="color:#e6db74">&#34;bar&#34;</span>)  <span style="color:#75715e">;; liefert &#34;wuppiefluppiefoobar&#34; zurück</span>
</span></span><span style="display:flex;"><span>(str <span style="color:#e6db74">&#34;one: &#34;</span> <span style="color:#ae81ff">1</span> <span style="color:#e6db74">&#34;, two: &#34;</span> <span style="color:#ae81ff">2</span>)           <span style="color:#75715e">;; liefert &#34;one: 1, two: 2&#34; zurück</span></span></span></code></pre></div>
<h3 id="operatoren">Operatoren</h3>
<p>Es gibt nur wenige vordefinierte Operatoren, diese mit der üblichen Semantik.</p>
<h4 id="vergleichsoperatoren">Vergleichsoperatoren</h4>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Operation</th>
          <th style="text-align: center">Operator</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Gleichheit</td>
          <td style="text-align: center"><code>=</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Größer</td>
          <td style="text-align: center"><code>&gt;</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Kleiner</td>
          <td style="text-align: center"><code>&lt;</code></td>
      </tr>
  </tbody>
</table>
<p>Die Operanden müssen jeweils beide den selben Typ haben. Dabei sind <code>String</code> und <code>Integer</code>
zulässig. Das Ergebnis ist immer vom Typ <code>Boolean</code>.</p>
<h4 id="arithmetische-operatoren">Arithmetische Operatoren</h4>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Operation</th>
          <th style="text-align: center">Operator</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Addition</td>
          <td style="text-align: center"><code>+</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Subtraktion</td>
          <td style="text-align: center"><code>-</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Multiplikation</td>
          <td style="text-align: center"><code>*</code></td>
      </tr>
      <tr>
          <td style="text-align: left">Division</td>
          <td style="text-align: center"><code>/</code></td>
      </tr>
  </tbody>
</table>
<p>Die Operanden müssen jeweils beide den selben Typ haben. Dabei sind <code>String</code> und <code>Integer</code>
zulässig. Das Ergebnis ist vom Typ der Operanden.</p>
<h3 id="kontrollstrukturen-if-else">Kontrollstrukturen (If-Else)</h3>
<p>Die <code>if-then-else</code>-Abfrage gibt es mit und ohne den <code>else</code>-Zweig:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#66d9ef">if </span>boolean-form
</span></span><span style="display:flex;"><span>    then-form
</span></span><span style="display:flex;"><span>    optional-else-form)</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#66d9ef">if </span>(&lt; <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>    (print <span style="color:#e6db74">&#34;true&#34;</span>)    <span style="color:#75715e">;; then</span>
</span></span><span style="display:flex;"><span>    (print <span style="color:#e6db74">&#34;false&#34;</span>))  <span style="color:#75715e">;; else</span></span></span></code></pre></div>
<p>Dabei kann jeweils nur genau eine S-Expression genutzt werden. Wenn man mehrere Dinge
berechnen möchte, nutzt man <code>do</code>:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#a6e22e">do</span>
</span></span><span style="display:flex;"><span>    (print <span style="color:#e6db74">&#34;wuppie&#34;</span>)
</span></span><span style="display:flex;"><span>    (print <span style="color:#e6db74">&#34;fluppie&#34;</span>)
</span></span><span style="display:flex;"><span>    (print <span style="color:#e6db74">&#34;foo&#34;</span>)
</span></span><span style="display:flex;"><span>    (print <span style="color:#e6db74">&#34;bar&#34;</span>))</span></span></code></pre></div>
<p>Beispiel:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#66d9ef">if </span>(&lt; <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>) (<span style="color:#66d9ef">do </span>(print <span style="color:#e6db74">&#34;true&#34;</span>) (print <span style="color:#e6db74">&#34;WUPPIE&#34;</span>)) (print <span style="color:#e6db74">&#34;false&#34;</span>))</span></span></code></pre></div>
<p>oder anders formatiert:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#66d9ef">if </span>(&lt; <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">do </span>(print <span style="color:#e6db74">&#34;true&#34;</span>)
</span></span><span style="display:flex;"><span>        (print <span style="color:#e6db74">&#34;WUPPIE&#34;</span>))
</span></span><span style="display:flex;"><span>    (print <span style="color:#e6db74">&#34;false&#34;</span>))</span></span></code></pre></div>
<h3 id="variablen-bindings-mit-def-anlegen">Variablen: Bindings mit <em>def</em> anlegen</h3>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>x <span style="color:#ae81ff">42</span>)  <span style="color:#75715e">;; definiert eine neue Variable mit dem Namen &#34;x&#34; und dem Wert 42</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x           <span style="color:#75715e">;; liefert 42</span>
</span></span><span style="display:flex;"><span>(+ x <span style="color:#ae81ff">7</span>)     <span style="color:#75715e">;; liefert 49</span></span></span></code></pre></div>
<h3 id="funktionen-mit-defn-definieren">Funktionen mit <em>defn</em> definieren</h3>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span><span style="color:#75715e">;;     name   params  body</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span> hello  (<span style="color:#a6e22e">n</span>)     (str <span style="color:#e6db74">&#34;hello &#34;</span> n))  <span style="color:#75715e">;; Definition einer Funktion &#34;hello&#34; mit einem Parameter</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">hello</span> <span style="color:#e6db74">&#34;world&#34;</span>)                          <span style="color:#75715e">;; Aufruf der Funktion &#34;hello&#34; mit dem Argument &#34;world&#34;</span></span></span></code></pre></div>
<h3 id="lokale-scopes-mit-let">Lokale Scopes mit <em>let</em></h3>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span><span style="color:#75715e">;;    bindings      use names here</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">let </span> (name value)  (<span style="color:#a6e22e">code</span> that uses name))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>x <span style="color:#ae81ff">99</span>)   <span style="color:#75715e">;; globale Variable x</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>y <span style="color:#ae81ff">101</span>)  <span style="color:#75715e">;; globale Variable y</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>z <span style="color:#ae81ff">42</span>)   <span style="color:#75715e">;; globale Variable z</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">let </span>(<span style="color:#a6e22e">x</span> <span style="color:#ae81ff">1</span>   <span style="color:#75715e">;; lokales x mit Wert 1(verdeckt globales x)</span>
</span></span><span style="display:flex;"><span>      y <span style="color:#ae81ff">2</span>)  <span style="color:#75715e">;; lokales y mit Wert 2</span>
</span></span><span style="display:flex;"><span>     (+ x y z))  <span style="color:#75715e">;; 1+2+42</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span> hello
</span></span><span style="display:flex;"><span>       (<span style="color:#a6e22e">n</span>)
</span></span><span style="display:flex;"><span>       (<span style="color:#66d9ef">let </span>(<span style="color:#a6e22e">l</span> <span style="color:#ae81ff">42</span>)  <span style="color:#75715e">;; l is valid in this scope</span>
</span></span><span style="display:flex;"><span>            (str <span style="color:#e6db74">&#34;hello &#34;</span> n <span style="color:#e6db74">&#34;: &#34;</span> l)
</span></span><span style="display:flex;"><span>       )  <span style="color:#75715e">;; end of local scope</span>
</span></span><span style="display:flex;"><span>)  <span style="color:#75715e">;; end of function definition</span></span></span></code></pre></div>
<p>Mit <code>let</code> können lokale Variablen erzeugt werden, die dann in dem jeweiligen Scope genutzt
werden können. Dies funktioniert wie in anderen Sprachen mit Scopes.</p>
<h3 id="rekursion">Rekursion</h3>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#66d9ef">defn </span>fac (<span style="color:#a6e22e">n</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#66d9ef">if </span>(&lt; n <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        (* n (<span style="color:#a6e22e">fac</span> (- n <span style="color:#ae81ff">1</span>)))))</span></span></code></pre></div>
<p>Da es kein <code>while</code> oder <code>for</code> gibt, müssen Schleifen über rekursive Aufrufe abgebildet werden.</p>
<h3 id="datenstrukturen">Datenstrukturen</h3>
<p>In unserer Sprache gibt es Listen:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>)          <span style="color:#75715e">;; Fehler!</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>v (<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>))  <span style="color:#75715e">;; Fehler!</span></span></span></code></pre></div>
<p>Das Problem daran ist, dass unsere S-Expressions zwar bereits listenartige Strukturen sind,
der erste Eintrag aber als Operator oder Funktion interpretiert wird. Der Ausdruck oben würde
beim Auswerten versuchen, die &quot;Funktion&quot; 1 auf den Argumenten 2 und 3 aufzurufen ...</p>
<p>Man braucht also eine Notation, die ein sofortiges Auswerten verhindert und nur die Liste an
sich zurückliefert. Dies erreicht man durch die Funktion <code>list</code>:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(list <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>)          <span style="color:#75715e">;; (1 2 3)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">def </span>v (list <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>))  <span style="color:#75715e">;; v = (1 2 3)</span>
</span></span><span style="display:flex;"><span>v                     <span style="color:#75715e">;; (1 2 3)</span></span></span></code></pre></div>
<p>Mit der Funktion <code>nth</code> kann man auf das n-te Element einer Liste zugreifen:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(nth (list <span style="color:#e6db74">&#34;abc&#34;</span> false <span style="color:#ae81ff">99</span>) <span style="color:#ae81ff">2</span>)  <span style="color:#75715e">;; 99</span></span></span></code></pre></div>
<p>Zusätzlich gibt es die beiden Funktionen <code>head</code> und <code>tail</code>, die das erste Element einer Liste
bzw. die restliche Liste ohne das erste Element zurückliefern:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-clojure" data-lang="clojure"><span style="display:flex;"><span>(<span style="color:#a6e22e">head</span> (list <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>))  <span style="color:#75715e">;; 1</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">tail</span> (list <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>))  <span style="color:#75715e">;; (2 3)</span></span></span></code></pre></div>
<h2 id="aufgaben">Aufgaben</h2>
<h3 id="a51-grammatik-und-antlr-3p">A5.1: Grammatik und ANTLR (3P)</h3>
<ol>
<li>
<p>Erstellen Sie zunächst einige Programme in der Zielsprache. Diese sollten von einfachsten
Ausdrücken bis hin zu komplexeren Programmen reichen. Definieren Sie beispielsweise eine
Funktion, die rekursiv die Länge einer Liste berechnet.</p>
<p>Definieren Sie neben gültigen Programmen auch solche, die in der semantischen Analyse
zurückgewiesen werden sollten. Welche Fehlerkategorien könnte es hier geben?</p>
</li>
<li>
<p>Definieren Sie für die obige Sprache eine geeignete ANTLR-Grammatik. Sie können dabei die
Grammatik <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/homework/src/sample_project/src/main/antlr/MiniLispA.g4" rel="external" target="_blank">MiniLispA</a> oder <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/homework/src/sample_project/src/main/antlr/MiniLispB.g4" rel="external" target="_blank">MiniLispB</a> im <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/tree/master/homework/src/sample_project" rel="external" target="_blank">Sample Project</a> als Ausgangspunkt nutzen und
diese anpassen und vervollständigen. Erzeugen Sie mithilfe der Grammatik und ANTLR einen
Lexer und Parser.</p>
</li>
<li>
<p>Führen Sie die semantische Analyse durch: Sind alle Symbole bekannt, passen die Scopes?</p>
</li>
</ol>
<h3 id="a52-tree-walking-interpreter-5p">A5.2: Tree-Walking-Interpreter (5P)</h3>
<p>Bauen Sie einen Tree-Walking-Interpreter in Ihr Projekt ein.</p>
<p>Realisieren Sie die eingebauten Funktionen <code>print</code> und <code>str</code> dabei als <em>native</em> Funktionen.
Realisieren Sie <code>list</code>, <code>nth</code>, <code>head</code> und <code>tail</code> sowie <code>def</code>, <code>let</code>, <code>defn</code>, <code>do</code> und die
Operatoren und die Kontrollstrukturen geeignet.</p>
<p>Lösen Sie die als &quot;<em>syntactic sugar</em>&quot; bezeichneten Ausdrücke auf und transformieren Sie den
AST entsprechend: <code>(+ 1 2 3 4)</code> soll zu <code>(+ (+ (+ 1 2) 3) 4)</code> umgeformt werden. Analog für die
anderen Operatoren der Sprache (Vergleiche, Arithmetik).</p>
<p>Achten Sie auf die Datentypen. Die Typen von Variablen etc. sind erst zur Laufzeit bekannt und
müssen dann passen.</p>
<p>Lesen Sie den zu interpretierenden Code aus einer Datei ein.</p>
<p>Testen Sie Ihren Interpreter mit Ihren Beispielprogrammen.</p>
<h3 id="a53-auswirkungen-der-grammatik-auf-den-interpreter-2p">A5.3: Auswirkungen der Grammatik auf den Interpreter (2P)</h3>
<p>Sie haben sich vermutlich für eine der beiden Grammatiken (<a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/homework/src/sample_project/src/main/antlr/MiniLispA.g4" rel="external" target="_blank">MiniLispA</a>, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/homework/src/sample_project/src/main/antlr/MiniLispB.g4" rel="external" target="_blank">MiniLispB</a>)
entschieden und auf der Basis Ihren Interpreter erstellt.</p>
<p>Welche Auswirkungen hat die Grammatik auf den Interpreter? Machen Sie ein Gedankenexperiment:
Überlegen Sie, was Sie alles in Ihrer Implementierung ändern müssten, wenn Sie die jeweils
andere Grammatik-Variante nutzen würden.</p>
<h3 id="bonus-interaktiver-interpreter-3p">Bonus: Interaktiver Interpreter (3P)</h3>
<p>Bauen Sie eine <em>REPL</em> ein, d.h. geben Sie nach dem Start des Interpreters einen Prompt aus und
verarbeiten Sie die Eingaben interaktiv. Wie müssen Sie hier mit der Symboltabelle umgehen?</p>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 06: C&#43;&#43;</h1>












    
        <p><strong>(10 Punkte)</strong></p>
    

    <h2 id="zusammenfassung">Zusammenfassung</h2>
<p>Ziel dieses Aufgabenblattes ist die praktische Anwendung Ihrer C++-Kenntnisse, insbesondere
werden Sie Pointer, Referenzen und Klassen anwenden und vertiefen. Als Anwendungsbeispiel
werden Sie bestimmte in der C++-Welt wohlbekannte Smartpointer modellieren sowie einen
einfachen Ringpuffer programmieren. Sie lernen mit dem <em>Reference Counting</em> nebenbei eine
verbreitete Technik der <em>Garbage Collection</em> kennen.</p>
<h2 id="methodik">Methodik</h2>
<p>Sie werden auf diesem Blatt vier einfache Klassen in C++ implementieren.</p>
<p>Es empfiehlt sich, zunächst die Beispiele gründlich zu analysieren, um die gewünschte
Funktionsweise der einzelnen Klassen vorab präzise zu verstehen. Sie werden zu einigen Dingen
in der C++-Literatur recherchieren müssen.</p>
<p>Implementieren Sie immer eine Klasse vollständig und testen Sie Ihren Code sowohl mit den
vorgegebenen Beispielen als auch mit eigenen Beispielen, bevor Sie sich an die nächste
Aufgabe/Klasse setzen.</p>
<h2 id="speicherverwaltung-in-cc">Speicherverwaltung in C/C++</h2>
<p>C und C++ erlauben als hardwarenahe Programmiersprachen den direkten Umgang mit dem
Programmspeicher (Heap). Ein Programm kann dynamisch zu jeder Zeit weiteren Speicher anfordern
und so beispielsweise mitwachsende Datenstrukturen realisieren.</p>
<p>Da der Heap-Speicher endlich ist, muss man nicht mehr benötigten Speicher auch wieder
freigeben. Anderenfalls ist irgendwann der komplette Heap belegt und das Programm kann nicht
mehr ordnungsgemäß arbeiten. Für die Freigabe ist man als Programmierer:in selbst zuständig.</p>
<h3 id="beispiel-für-eine-tokenizer-funktion">Beispiel für eine Tokenizer-Funktion</h3>
<p>Im folgenden Programmschnipsel soll eine Funktion <code>next_token()</code> das nächste Token berechnen.
So eine Funktion findet sich typischerweise im Lexer. Für die Rückgabe des Tokens hat man in
C++ drei Möglichkeiten: als Kopie, als Referenz oder als Pointer.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// Return as copy
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Token <span style="color:#a6e22e">next_token</span>() {
</span></span><span style="display:flex;"><span>    Token wuppie <span style="color:#f92672">=</span> Token(<span style="color:#e6db74">&#34;wuppie&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>);   <span style="color:#75715e">// will be deleted automatically
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Token bar <span style="color:#f92672">=</span> Token(<span style="color:#e6db74">&#34;bar&#34;</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">10</span>);        <span style="color:#75715e">// not used, will be deleted automatically
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> wuppie;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    Token x <span style="color:#f92672">=</span> next_token();                 <span style="color:#75715e">// copy constructor; no need to free
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// Return as pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Token<span style="color:#f92672">*</span> <span style="color:#a6e22e">next_token</span>() {
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">*</span> foo <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Token(<span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">35</span>);   <span style="color:#75715e">// will be free&#39;d manually
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Token<span style="color:#f92672">*</span> bar <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Token(<span style="color:#e6db74">&#34;bar&#34;</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">10</span>);   <span style="color:#75715e">// leaves a memory hole!!!
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> foo;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">*</span> x <span style="color:#f92672">=</span> next_token();                <span style="color:#75715e">// only the pointer (i.e. address) will be copied
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">delete</span> x;                               <span style="color:#75715e">// caller needs to free this object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}</span></span></code></pre></div>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// Return as C++ reference
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Token<span style="color:#f92672">&amp;</span> next_token() {
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">*</span> foo <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Token(<span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">35</span>);   <span style="color:#75715e">// will be free&#39;d manually
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Token<span style="color:#f92672">*</span> bar <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Token(<span style="color:#e6db74">&#34;bar&#34;</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">10</span>);   <span style="color:#75715e">// leaves a memory hole!!!
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span>foo;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">&amp;</span> x <span style="color:#f92672">=</span> next_token();                <span style="color:#75715e">// no copy, `x` is just a new alias for `foo`
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">delete</span> <span style="color:#f92672">&amp;</span>x;                              <span style="color:#75715e">// caller needs to free this object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}</span></span></code></pre></div>
<p>Die Rückgabe per Kopie (Standardfall in C/C++) würde ein lokales Objekt auf dem Stack (im
Beispiel wäre das <code>wuppie</code>) als Kopie zurückgeben.</p>
<ul>
<li>Vorteil: Der Compiler kümmert sich um die Freigabe der lokalen Variable <code>wuppie</code>, d.h.
nach Beendigung des Funktionsaufrufs wird das Objekt automatisch vom Stack entfernt. Da
hierbei einfach der Stackpointer zurückgesetzt wird, ist diese &quot;Freigabe&quot; eine sehr
preiswerte Operation.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
<li>Nachteil: Der Aufrufer darf nicht einfach auf das Objekt auf dem Stack zugreifen (dieses
ist ja nach Beendigung der Funktion nicht mehr gültig). Deshalb muss das Objekt bei der
Rückgabe kopiert werden (Copy-Konstruktor). Zusätzlich erfolgt beim Aufrufer oft noch eine
Zuweisung, bei der die Attribute des Objekts vermutlich erneut kopiert werden. Dies kann
(je nach Aufbau der Objekte) sehr teuer sein!</li>
</ul>
<p>Die Rückgabe per Pointer erfordert ein Objekt, welches innerhalb der Funktion erzeugt wird und
dessen Lebensdauer über das Funktionsende hinausreicht. Das Objekt muss in diesem Fall also
auf dem Heap angelegt werden.</p>
<ul>
<li>Vorteil: Die Rückgabe erfordert lediglich die Kopie der Adresse des Objekts (also des
Pointers). Hier handelt es sich vereinfacht betrachtet um einen Integer, d.h. diese
Operation ist relativ preiswert.</li>
<li>Nachteil: Das Objekt muss vom Aufrufer wieder freigegeben werden, sobald es nicht mehr
benötigt wird. Dies muss man explizit programmieren!</li>
</ul>
<p>Die Rückgabe per C++-Referenz erfordert ebenfalls ein Objekt, welches innerhalb der Funktion
erzeugt wird und dessen Lebensdauer über das Funktionsende hinausreicht. Das Objekt muss in
diesem Fall also wieder auf dem Heap angelegt werden.</p>
<ul>
<li>Vorteil: Die Rückgabe erfordert keinerlei Kopien, da sich die Referenz <code>x</code> an das Objekt
<code>foo</code> bindet und lediglich einen neuen Alias für dieses Objekt darstellt.</li>
<li>Nachteil: Das Objekt muss vom Aufrufer wieder freigegeben werden, sobald es nicht mehr
benötigt wird. Dies muss man explizit programmieren!</li>
</ul>
<p>Es hat sich gezeigt, dass der Umgang mit den Heap-Ressourcen sehr fehleranfällig ist. Ein
Aspekt dabei ist, dass man häufig die Freigabe der Objekte vergisst oder dass die
Programmpfade so unübersichtlich sind, dass man nicht genau weiss, ob und wann man Objekte
freigeben soll (denken Sie an Exceptions).</p>
<h3 id="smartpointer-als-lösung">Smartpointer als Lösung</h3>
<p>Während man in Sprachen wie Java die Speicherverwaltung komplett dem Compiler überlässt oder
wie in Rust mit strikten Ownership-Modellen arbeitet, hat man in C++ die sogenannten
<a href="https://en.cppreference.com/book/intro/smart_pointers" rel="external" target="_blank">Smartpointer</a> erdacht. Diese ersetzen den direkten Umgang mit den einfachen Pointern (auch
als <em>raw pointer</em> bezeichnet) und lösen das Problem der Freigabe der verwalteten
Ressourcen.<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> Es gibt verschiedene Modelle, insbesondere gibt es die Variante <em>unique
pointer</em>, bei der immer nur genau ein Smartpointer gleichzeitig eine bestimmte Ressource
besitzen darf, und die <em>shared pointer</em>, bei der mehrere Smartpointer gleichzeitig die selbe
Ressource verwalten können. Sobald die Lebensdauer des <em>unique pointer</em> oder des letzten
<em>shared pointer</em> endet, wird die verwaltete Ressource automatisch vom Smartpointer
freigegeben.</p>
<p>Das folgende Beispiel arbeitet mit einer selbst implementierten Variante der <em>shared
pointers</em>. Dabei ist die Klasse <code>SmartToken</code> ein Smartpointer für Objekte vom Typ <code>Token</code>:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fluppie</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// new smart pointer for token &#34;wuppie&#34;:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// wuppie lives on the stack, the token lives on the heap (`new`)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SmartToken wuppie <span style="color:#f92672">=</span> SmartToken(<span style="color:#66d9ef">new</span> Token(<span style="color:#e6db74">&#34;wuppie&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (bla<span style="color:#f92672">==</span><span style="color:#ae81ff">42</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// fluppie shares resource with wuppie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SmartToken fluppie <span style="color:#f92672">=</span> SmartToken(wuppie);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// fluppie2 shares resource with wuppie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SmartToken fluppie2(wuppie);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// now there are 3 smart pointers sharing the same resource (token &#34;wuppie&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// new smart pointer for token &#34;foo&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SmartToken foo <span style="color:#f92672">=</span> SmartToken(<span style="color:#66d9ef">new</span> Token(<span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">35</span>));
</span></span><span style="display:flex;"><span>    }   <span style="color:#75715e">// fluppie, fluppie2, foo will be removed from the stack - foo releases its resource
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// wuppie is the only smart pointer with shared resource &#34;wuppie&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>} <span style="color:#75715e">// wuppie will be removed from the stack - wuppie releases its resource
</span></span></span></code></pre></div>
<p>Im Beispiel wird mit <code>new Token(&quot;wuppie&quot;, 1, 4)</code> ein neues Token-Objekt auf dem Heap angelegt.
Der Smartpointer <code>wuppie</code> übernimmt die Ressource im Konstruktor und verwaltet den Pointer.
Wichtig ist zu beobachten: Das Token wird auf dem Heap angelegt, während der Smartpointer
<code>wuppie</code> eine normale lokale (&quot;automatische&quot;) Variable ist und auf dem Stack liegt.</p>
<p>In der Kontrollstruktur werden weitere Smartpointer angelegt. Die ersten beiden (<code>fluppie</code>,
<code>fluppie2</code>) teilen sich die Ressource (den Pointer auf das Token) mit <code>wuppie</code>. Es wird kein
neues Token angelegt oder kopiert. Der dritte Smartpointer <code>foo</code> verwaltet ein weiteres Token.</p>
<p>Mit der Kontrollstruktur endet auch die Lebensdauer der lokalen Variablen <code>fluppie</code>,
<code>fluppie2</code> und <code>foo</code>, sie werden automatisch vom Stack entfernt. Da <code>foo</code> der letzte
Smartpointer ist, der das Token &quot;foo&quot; verwaltet, wird hier die Ressource freigegeben. Bei
<code>fluppie</code> und <code>fluppie2</code> werden nur die Smartpointer auf dem Stack entfernt, die verwaltete
Ressource (Token &quot;wuppie&quot;) bleibt erhalten, da die noch von einem anderen Smartpointer
verwaltet wird.</p>
<p>Mit dem Ende der Funktion endet auch die Lebensdauer des Smartpointers <code>wuppie</code>. Er wird
automatisch vom Stack entfernt, und da er im Beispiel der letzte Smartpointer ist, der das
Token &quot;wuppie&quot; verwaltet, wird dabei automatisch der Pointer zu &quot;wuppie&quot; wieder freigegeben.</p>
<p>Ein Smartpointer soll entsprechend folgende Eigenschaften haben:</p>
<ul>
<li>Verwendung soll analog zu normalen Pointern sein (Operatoren <code>*</code> und <code>-&gt;</code> überladen)</li>
<li>Smartpointer haben niemals einen undefinierten Wert: entweder sie zeigen auf ein Objekt
oder auf <code>nullptr</code><sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup></li>
<li>Kopieren von (<em>shared</em>) Smartpointern führt dazu, dass sich mehrere Smartpointer das
verwiesene Objekt <em>teilen</em></li>
<li>Smartpointer löschen sich selbst (und das verwiesene Objekt, falls kein anderer
Smartpointer mehr darauf zeigt), wenn die Smartpointer ungültig werden (bei Verlassen des
Scopes bzw. bei explizitem Aufruf von <code>delete</code> auf einen Pointer auf einen Smartpointer)</li>
<li>Es gibt keine verwitweten Objekte mehr: Wenn mehrere Smartpointer auf das selbe Objekt
zeigen, darf erst der letzte Smartpointer das Objekt aus dem Heap löschen</li>
<li>Smartpointer funktionieren nur für mit <code>new</code> erzeugte Objekte</li>
</ul>
<p>Weitere übliche Eigenschaften, die wir auf diesem Blatt aber vereinfachend ignorieren<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>:</p>
<ul>
<li>Smartpointer sollen für beliebige Klassen nutzbar sein (Template-Klasse)</li>
<li>Dereferenzierung von nicht existierenden Objekten (d.h. der Smartpointer zeigt intern auf
<code>nullptr</code>) führt nicht zum Programmabsturz, sondern zu einer Exception</li>
</ul>
<h3 id="reference-counting">Reference Counting</h3>
<p>Smartpointer werden erzeugt, indem sie entweder einen Pointer auf die zu verwaltende Ressource
bekommen (Konstruktor) oder eine Referenz auf ein anderes Smartpointer-Objekt
(Copy-Konstruktor).</p>
<p>Im Smartpointer wird entsprechend der Pointer auf die zu verwaltende Ressource gespeichert.</p>
<p>Für die Bestimmung, wie viele Smartpointer sich eine Ressource teilen, muss ein Zähler
implementiert werden. Sobald sich ein weiterer Smartpointer die selbe Ressource teilt, muss
dort auch der Zähler (per Pointer!) übernommen werden und entsprechend inkrementiert werden.
Im Destruktor muss der Zähler dekrementiert werden. Falls dabei der Zähler den Wert 0
erreicht, werden die Pointer auf die Ressource und den Zähler freigegeben.</p>
<p>Bei einer Zuweisung verfährt man analog.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SmartToken</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructor
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructs a new smart pointer from a raw pointer, sets the reference
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * counter to 1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param p is a raw pointer to the token to be shared
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    SmartToken(Token<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Copy constructor
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructs a new smart pointer from another smart pointer, increments
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * the reference counter.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param sp is another smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    SmartToken(<span style="color:#66d9ef">const</span> SmartToken<span style="color:#f92672">&amp;</span> sp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Destructor
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Decrements the reference counter. If it reaches zero, the shared token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * will be free&#39;d.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>SmartToken();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Assignment
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Changes the shared token, thus we need first to perform something like
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * the destructor, followed by something like the constructor.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param sp is another smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    SmartToken<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">=</span>(<span style="color:#66d9ef">const</span> SmartToken<span style="color:#f92672">&amp;</span> sp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">*</span> pObj;        <span style="color:#75715e">///&lt; Pointer to the current shared token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    RefCounter<span style="color:#f92672">*</span> rc;     <span style="color:#75715e">///&lt; Pointer to the reference counter (used for the current token)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RefCounter</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Default constructor
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    RefCounter();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Increment count
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">inc</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Decrement count
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dec</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Compare the counter with zero
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return true if n==0, false otherwise
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">isZero</span>() <span style="color:#66d9ef">const</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Hide copy constructor and assignment operator
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    RefCounter(<span style="color:#66d9ef">const</span> RefCounter<span style="color:#f92672">&amp;</span>) <span style="color:#f92672">=</span> <span style="color:#66d9ef">delete</span>;
</span></span><span style="display:flex;"><span>    RefCounter<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">=</span>(<span style="color:#66d9ef">const</span> RefCounter<span style="color:#f92672">&amp;</span>) <span style="color:#f92672">=</span> <span style="color:#66d9ef">delete</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> n;     <span style="color:#75715e">///&lt; How many SmartToken share ownership of &#34;our&#34; object?
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};</span></span></code></pre></div>
<h3 id="dereferenzierung-von-smartpointern">Dereferenzierung von Smartpointern</h3>
<p>(<em>Anmerkung</em>: Dies ist ein Vorgriff auf die Lektion &quot;Operatoren&quot;. Betrachten und
implementieren Sie die vorgegebenen Operatoren einfach wie normale Methoden.)</p>
<p>Pointer lassen sich dereferenzieren, d.h. man greift direkt auf das verwiesene Objekt zu. Dies
lässt sich auch für Smartpointer erreichen, indem die beiden Dereferenzierungsoperatoren
überladen werden.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SmartToken</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Dereferences the smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return a reference to the shared token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">*</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Dereferences the smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return a pointer to the shared token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">*</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">-&gt;</span>();
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<p>Damit lässt sich das folgende Verhalten realisieren (Vergleich <em>raw</em> Pointer
vs. Smartpointer):</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>Token<span style="color:#f92672">*</span> foo <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Token(<span style="color:#e6db74">&#34;foo&#34;</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">35</span>);                       <span style="color:#75715e">// raw pointer foo
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SmartToken wuppie <span style="color:#f92672">=</span> SmartToken(<span style="color:#66d9ef">new</span> Token(<span style="color:#e6db74">&#34;wuppie&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>));  <span style="color:#75715e">// smart pointer wuppie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Access via token pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout <span style="color:#f92672">&lt;&lt;</span> (<span style="color:#f92672">*</span>foo).lexem    <span style="color:#f92672">&lt;&lt;</span> endl;    <span style="color:#75715e">// &#34;foo&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout <span style="color:#f92672">&lt;&lt;</span> foo<span style="color:#f92672">-&gt;</span>lexem      <span style="color:#f92672">&lt;&lt;</span> endl;    <span style="color:#75715e">// &#34;foo&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Access via smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout <span style="color:#f92672">&lt;&lt;</span> (<span style="color:#f92672">*</span>wuppie).lexem <span style="color:#f92672">&lt;&lt;</span> endl;    <span style="color:#75715e">// &#34;wuppie&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cout <span style="color:#f92672">&lt;&lt;</span> wuppie<span style="color:#f92672">-&gt;</span>lexem   <span style="color:#f92672">&lt;&lt;</span> endl;    <span style="color:#75715e">// &#34;wuppie&#34;
</span></span></span></code></pre></div>
<p>Dabei ist die Form &quot;<code>-&gt;</code>&quot; eine vereinfachte Darstellung von <code>(*ptr).</code>, d.h. ein Pointer (linke
Seite des Ausdrucks) wird dereferenziert und man greift auf Attribute oder Methoden des
verwiesenen Objekts zu (rechte Seite des Ausdrucks).</p>
<h2 id="aufgaben">Aufgaben</h2>
<h3 id="a61-klasse-für-token-1p">A6.1: Klasse für Token (1P)</h3>
<p>Implementieren Sie in C++ die Klasse <code>Token</code> mit der folgenden Schnittstelle:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Token</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructs a new token object.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param l is a pointer to the text of the token (to be copied)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param r is the row in input where this token was found
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param c is the column in input where this token starts
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    Token(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> l, <span style="color:#66d9ef">int</span> r, <span style="color:#66d9ef">int</span> c);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Destructs the token object and free&#39;s the stored lexem.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>Token();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> lexem;    <span style="color:#75715e">///&lt; Pointer to the text of the token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> row;        <span style="color:#75715e">///&lt; Row in input where this token was found
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> col;        <span style="color:#75715e">///&lt; Column in input where this token starts
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};</span></span></code></pre></div>
<p>Trennen Sie Deklaration und Implementierung.</p>
<p>Der Konstruktor muss den übergebenen <code>char*</code> kopieren, d.h. Sie müssen die Länge des
übergebenen C-Strings bestimmen, ausreichend viel Speicher mit <code>new</code> für <code>char* lexem</code>
reservieren und danach den String kopieren (C-Funktion).</p>
<p>Sorgen Sie dafür, dass der Speicher beim Vernichten eines <code>Token</code>-Objekts wieder korrekt
freigegeben wird.</p>
<p>Bei Bedarf können Sie zusätzliche Attribute und Methoden hinzufügen.</p>
<p>Testen Sie Ihre <code>Token</code>-Klasse an selbst gewählten Beispielen.</p>
<h3 id="a62-implementierung-eines-einfachen-tokenizers-1p">A6.2: Implementierung eines einfachen Tokenizers (1P)</h3>
<p>Erstellen Sie eine Funktion <code>void tokenize(const string&amp; input, vector&lt;Token&gt;&amp; tokens)</code>, die
einen gegebenen String als Eingabe erhält und diesen in Tokens (Wörter) splittet. Nutzen Sie
Referenzen, um die Token-Liste zu aktualisieren. Testen Sie die Funktion mit verschiedenen
Eingabestrings und geben Sie die Tokens aus.</p>
<h3 id="a63-reference-counter-1p">A6.3: Reference Counter (1P)</h3>
<p>Implementieren Sie nun die Klasse <code>RefCounter</code> mit der obigen Schnittstelle. Auch hier können
Sie bei Bedarf zusätzliche Attribute und Methoden hinzufügen.</p>
<p>Testen Sie Ihre <code>RefCounter</code>-Klasse an selbst gewählten Beispielen.</p>
<h3 id="a64-smartpointer-3p">A6.4: Smartpointer (3P)</h3>
<p>Implementieren Sie nun die Smartpointer für <code>Token</code>-Objekte mit folgender Signatur (wie oben,
leicht erweitert):</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SmartToken</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructor
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructs a new smart pointer from a raw pointer, sets the reference
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * counter to 1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param p is a raw pointer to the token to be shared
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    SmartToken(Token<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Copy constructor
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructs a new smart pointer from another smart pointer, increments
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * the reference counter.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param sp is another smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    SmartToken(<span style="color:#66d9ef">const</span> SmartToken<span style="color:#f92672">&amp;</span> sp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Destructor
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Decrements the reference counter. If it reaches zero, the shared token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * will be free&#39;d.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>SmartToken();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Assignment
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Changes the shared token, thus we need first to perform something like
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * the destructor, followed by something like the constructor.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param sp is another smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    SmartToken<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">=</span>(<span style="color:#66d9ef">const</span> SmartToken<span style="color:#f92672">&amp;</span> sp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Dereferences the smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return a reference to the shared token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">*</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Dereferences the smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return a pointer to the shared token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">*</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">-&gt;</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Comparison
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param sp is another smart pointer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return true, if `sp` shares the same token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">==</span>(<span style="color:#66d9ef">const</span> SmartToken<span style="color:#f92672">&amp;</span> sp) <span style="color:#66d9ef">const</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Token<span style="color:#f92672">*</span> pObj;        <span style="color:#75715e">///&lt; Pointer to the current shared token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    RefCounter<span style="color:#f92672">*</span> rc;     <span style="color:#75715e">///&lt; Pointer to the reference counter (used for the current token)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};</span></span></code></pre></div>
<p>Bei Bedarf können Sie zusätzliche Attribute und Methoden hinzufügen.</p>
<p>Testen Sie Ihre <code>SmartToken</code>-Klasse an selbst gewählten Beispielen sowie an den obigen
Beispielen.</p>
<h3 id="a65-ringpuffer-4p">A6.5: Ringpuffer (4P)</h3>
<p>Ein Ringpuffer ist eine Form der abstrakten Datenstruktur &quot;Warteschlange&quot; (<em>Queue</em>), die nur
eine beschränkte Anzahl <span class="math align-center">$n$</span> von Elementen (Datensätzen) aufnehmen kann. Die Daten werden nach
dem FIFO-Prinzip über die Funktion <code>writeBuffer()</code> am Ende der Schlange eingefügt und mit der
Funktion <code>readBuffer()</code> vom Anfang der Schlange entnommen.</p>
<p>Aus Effizienzgründen wird bei <code>readBuffer()</code> nur das erste Element zurückgeliefert, das
gelesene Element wird aber (noch) nicht aus dem Ringpuffer entfernt. Über ein Attribut <code>head</code>
merkt man sich stattdessen, wo das nächste zu lesende Element liegt (auf dem Platz hinter dem
aktuell gelesenen). Ist der Puffer voll, wird bei <code>writeBuffer()</code> das älteste Element entfernt
und das neue Element auf dem frei gewordenen Platz im internen Array <code>elems</code> eingefügt.</p>
<p>Unser Ringpuffer ist auf Elemente vom Typ <code>SmartToken</code> festgelegt. Es wird davon ausgegangen,
dass diese Elemente Smartpointer mit der <em>shared pointer</em>-Semantik sind.<sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup> Da die
<code>SmartToken</code> selbst (zum Teil) eine Pointersemantik implementiert haben (man kann die
Smartpointer dereferenzieren), vermeiden wir Pointer auf die Smartpointer in der Schnittstelle
und arbeiten stattdessen mit C++-Referenzen bzw. Kopien: Bei <code>writeBuffer()</code> wird ein
<code>SmartToken</code> per konstanter C++-Referenz übergeben, und bei <code>readBuffer()</code> wird eine Kopie des
gelesenen <code>SmartToken</code> zurückgeliefert.</p>
<p>Der Puffer kann effizient durch ein zur Laufzeit angelegtes <strong>Array</strong> mit <code>size</code>
(Template-Parameter) Plätzen zur Speicherung der Pointer auf die Elemente realisiert werden.
Die Ringstruktur wird durch Modulo-Operationen auf den Array-Indizes realisiert.</p>
<p>Implementieren Sie nun den Ringpuffer für <code>SmartToken</code>-Objekte mit folgender Signatur:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RingBuffer</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Constructor that creates a new ring buffer for max. `size` elements
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Initialises the attributes and allocates memory for `size` elements
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * of type `SmartToken` and let the pointer `elems` point to this new
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param size is the max. number of elements that can be stored
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    RingBuffer(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> size);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Destructor
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * free&#39;s the dynamically allocated array `elems`
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>RingBuffer();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Reading the first (oldest) element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * If an element has been read, the `head` points to the next element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * and `count` is decremented. The read element is **not** released.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @return Returns (a copy of) the first (i.e. oldest) element of the
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * buffer, but does not (yet) release it; returns an empty `SmartToken`
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * if buffer is empty
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    SmartToken <span style="color:#a6e22e">readBuffer</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Adding a new element
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Appends the new element to the end of the queue. If the buffer is
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * full, the oldest element will be overwritten by the new element. The
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * old element will take care of releasing its memory (smart pointer).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @param data is a reference to the element to be added
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">writeBuffer</span>(<span style="color:#66d9ef">const</span> SmartToken<span style="color:#f92672">&amp;</span> data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> count;     <span style="color:#75715e">///&lt; number of elements currently stored in the buffer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> head;      <span style="color:#75715e">///&lt; points to the beginning of the buffer (oldest element)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> size;      <span style="color:#75715e">///&lt; length of array `elems`
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SmartToken<span style="color:#f92672">*</span> elems;      <span style="color:#75715e">///&lt; array with `size` places of type `SmartToken`, dynamically allocated
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};</span></span></code></pre></div>
<p>Bei Bedarf können Sie zusätzliche Attribute und Methoden hinzufügen.</p>
<p>Testen Sie Ihre <code>RingBuffer</code>-Klasse an selbst gewählten Beispielen. Überzeugen Sie sich
insbesondere vom korrekten Zugriff auf die Ringstruktur und prüfen Sie, ob die Smartpointer
wie gewünscht arbeiten. Prüfen Sie hierzu auch die <code>RefCounter</code> der beteiligten Smartpointer.
Welche Sonderfälle können Sie identifizieren?</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Anmerkung: Man spricht trotzdem von &quot;Freigabe&quot; des Objekts, obwohl lediglich der
Stackpointer zurückgesetzt wird und das Objekt zunächst auf dem Stack noch vollständig
ist. Es kann und wird aber im weiteren Verlauf des Programms überschrieben.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Dereferenzierung von Null-Pointern oder nicht initialisierten Pointern, Nutzung von
<code>delete</code> für Pointer, die nicht mit <code>new</code> erstellt wurden, mehrfaches <code>delete</code>,
Speicherlöcher durch Vergessen von <code>delete</code>, Dangling Pointer, verwitwete Objekte, ...&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Sie müssen für <code>nullptr</code> den g++ auf C++11 oder höher umstellen (<code>--std=c++11</code>) und den
Header <code>&lt;cstddef&gt;</code> includen.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>Templates haben wir hier noch nicht behandelt, Exceptions werden wir gar nicht
betrachten&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5">
<p>Wenn Sie die obigen Aufgaben richtig gelöst haben, haben Sie genau diese Semantik
vorliegen.&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 07x: Mini-Projekt C&#43;&#43; (IFM 5.21 CB PO18, 5. Semester)</h1>












    
    

    <h2 id="aufgaben">Aufgaben</h2>
<p>Bearbeiten Sie die auf <a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet07.html">Blatt 07</a> definierten Aufgaben. Ergänzend sollen noch Pointer und
dynamische Speicherverwaltung in Java realisiert werden (vgl. Vorarbeiten auf <a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet06x.html">Blatt 06x</a>).</p>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 04x: Semantische Analyse (IFM 5.21 CB PO18, 5. Semester)</h1>












    
        <p><strong>(10 Punkte)</strong></p>
    

    <h2 id="aufgaben">Aufgaben</h2>
<p>Betrachten Sie die auf <a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet04.html">Blatt 04</a> definierte Sprache. Ergänzen Sie diese Sprache um Arrays und
Pointer. Benutzen Sie dabei die aus C/C++ bekannte Syntax.</p>
<p>Lösen Sie mit dieser erweiterten Sprachdefinition die auf <a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet04.html">Blatt 04</a> gestellten Aufgaben.</p>
<p><em>Anmerkung</em>: Hier sind nur die syntaktischen Elemente und ihre semantischen Auswirkungen
interessant, d.h. (Funktionen/Operatoren für die) dynamische Speicherverwaltung brauchen Sie
nicht implementieren!</p>
<h2 id="vorstellung-station-i-der-parcoursprüfung">Vorstellung (Station I der Parcoursprüfung)</h2>
<p>Stellen Sie Ihre Konzepte und Lösungen im Rahmen eines Vortrags vor. Fokussieren Sie sich
dabei auf die Auswirkungen der oben beschriebenen Erweiterung der Sprache auf die Grammatik
und die semantische Analyse. Der Vortrag soll 20 Minuten dauern.</p>
<p>Die Vorträge werden im Praktikum am 27.11. bzw. am 04.12. durchgeführt. Wir werden dazu die
Teams entsprechend aufteilen, Sie bekommen eine Mail. Abgabe der Lösung und des Vortrags im
ILIAS ist für alle Teams aber bereits der 27.11. ...</p>
<h2 id="bewertungskriterien">Bewertungskriterien</h2>
<ol>
<li>
<p><strong>Inhalt (25 Punkte)</strong></p>
<ul>
<li><strong>Themenverständnis (15 Punkte)</strong>: Wurde das Thema klar und umfassend dargestellt?
Wurde das Fachwissen adäquat vermittelt?</li>
<li><strong>Argumentation und Nachvollziehbarkeit (10 Punkte)</strong>: Sind die Konzepte logisch und
schlüssig aufgebaut? Werden die Aussagen durch relevante Beispiele gestützt?</li>
</ul>
</li>
<li>
<p><strong>Struktur (15 Punkte)</strong></p>
<ul>
<li><strong>Aufbau (5 Punkte)</strong>: Gibt es eine klare Einleitung, einen strukturierten Hauptteil
und einen prägnanten Schluss?</li>
<li><strong>Gestaltung (5 Punkte)</strong>: Wurden geeignete und ansprechende visuelle Hilfsmittel
eingesetzt (Diagramme, Abbildungen)? Unterstützen diese die Inhalte oder lenken sie
eher ab?</li>
<li><strong>Roter Faden (5 Punkte)</strong>: Wird der rote Faden während des gesamten Vortrags
beibehalten? Ist der Zusammenhang zwischen den einzelnen Punkten nachvollziehbar?</li>
</ul>
</li>
<li>
<p><strong>Präsentation (10 Punkte)</strong></p>
<ul>
<li><strong>Gestik, Mimik und Sprache (5 Punkte)</strong>: Ist die Sprache klar, verständlich und
angemessen? Ist die Stimmlage dynamisch und ansprechend? Ist das Tempo angemessen?</li>
<li><strong>Zeitmanagement (5 Punkte)</strong>: Wurde der Zeitrahmen (20 Minuten pro Vortrag)
eingehalten?</li>
</ul>
</li>
</ol>
<p>Gesamtbewertung: 50 Punkte</p>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 05x: Interpreter (IFM 5.21 CB PO18, 5. Semester)</h1>












    
        <p><strong>(10 Punkte)</strong></p>
    

    <h2 id="aufgaben">Aufgaben</h2>
<p>Betrachten Sie die auf <a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet05.html">Blatt 05</a> definierte Sprache.</p>
<p>Ergänzen Sie diese Sprache um passende syntaktische Strukturen, mit denen man die aus anderen
Sprachen bekannten <code>for</code>- und <code>while</code>-Schleifen formulieren kann. Bleiben Sie dabei so nah an
der Lisp-artigen Sprache wie möglich! Lösen Sie diese Strukturen nach dem Parsen als
&quot;<em>syntactic sugar</em>&quot; auf und transformieren Sie diese geeignet in einen rekursiven Aufruf einer
(beim Traversieren jeweils neu generierten) Hilfsfunktion.</p>
<p>Lösen Sie mit dieser erweiterten Sprachdefinition die auf <a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet05.html">Blatt 05</a> gestellten Aufgaben.</p>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

<article class="default">
<h1>Blatt 06x: C&#43;&#43; und dyn. Speicherverwaltung (IFM 5.21 CB PO18, 5. Semester)</h1>












    
        <p><strong>(10 Punkte)</strong></p>
    

    <h2 id="aufgaben">Aufgaben</h2>
<p>Bearbeiten Sie die auf <a href="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/homework/sheet06.html">Blatt 06</a> definierten Aufgaben A6.1 (Token, 1P), A6.2 (Tokenizer, 1P),
A6.3 (Reference Counter, 1P) und A6.4 (Smartpointer, 3P).</p>
<p>Statt der Aufgabe A6.5 (Ringpuffer, 4P) bearbeiten Sie bitte die folgende Aufgabe (4P):</p>
<p>In C++ gibt es Pointer und dynamische Speicherverwaltung. Mit Hilfe des Operators <code>new</code> kann
Speicher auf dem Heap angefordert werden und man erhält einen Pointer auf den Start des
Bereichs, und mit dem Operator <code>delete</code> kann man Speicher wieder freigeben. Mit Hilfe der
Smartpointer wurde diese manuelle Freigabe zu einem gewissen Grad automatisiert.</p>
<p>Bauen Sie die dynamische Speicherverwaltung in Java nach:</p>
<ol>
<li>
<p>Modellieren Sie den Heap als Singleton-Datenstruktur.</p>
<p>Die Datenstruktur kann eine bestimmte maximale Anzahl von allgemeinen Objekten (per
<code>Object</code>-Referenz) speichern und soll einen indexbasierten Zugriff auf die Speicherplätze
und damit die Objekte erlauben. Die Datenstruktur muss eine interne Buchführung haben,
welche der Plätze noch frei sind. Die Datenstruktur muss Methoden analog zu <code>new</code> und
<code>delete</code> haben, damit man von außen Platz auf dem simulierten Heap reservieren kann bzw.
wieder freigeben kann. Bei <code>new</code> übergibt man eine <code>Object</code>-Referenz und erhält einen
Pointer zurück, bei <code>delete</code> übergibt man einen Pointer.</p>
</li>
<li>
<p>Modellieren Sie Pointer.</p>
<p>Dies ist eine Datenstruktur, die auf ein Objekt im simulierten Heap &quot;zeigt&quot;, indem sie den
Index des Objekts in der Heap-Datenstruktur speichert. Beachten Sie, dass Pointer in C++
typisiert sind (<code>char*</code>, <code>int*</code>, <code>Foo*</code>) und realisieren Sie dies entsprechend. Die
Datenstruktur soll zusätzlich eine Methode zum &quot;Dereferenzieren&quot; aufweisen, damit man
direkt auf das verwiesene Objekt zugreifen kann. Dabei muss das Objekt aus dem &quot;Heap&quot;
geholt werden und von <code>Object</code> auf den jeweiligen Typ gecasted und zurückgeliefert werden.</p>
</li>
</ol>
<p><strong>Hinweis</strong>: Diese Aufgabe ist eine Vorarbeit für das nächste Blatt (Mini-Projekt).</p>
<p><strong>Hinweis</strong>: Erinnern Sie sich an Generics in Java: <code>B&lt;E&gt; extends A&lt;E&gt;</code>, aber NICHT
<code>C&lt;B&gt; extends C&lt;A&gt;</code> (mit <code>B extends A</code>)! Generics werden hier also nicht helfen. Denkbar wäre
eine Vererbungshierarchie und die Überschreibung des Rückgabetyps der Basismethode für die
Dereferenzierung (<a href="https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html" rel="external" target="_blank"><em>covariant return type</em></a>) oder ggf. die Modellierung mit Hilfe eines Enums.
Für dieses Blatt können Sie sich auf ein paar Beispiele für konkrete Pointertypen
beschränken - für das Mini-Projekt (nächstes Blatt) werden die nötigen Klassen dann beim
Kompilieren dynamisch durch Ihren eigenen Compiler als Java-Strukturen angelegt.</p>


    







<footer class="footline"><div style="color: darkgray; font-size: small;">
<p style="margin-left: 4rem; margin-right: 4rem; margin-top: 6rem;">
<!-- https://creativecommons.org/choose/ -->
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0;margin:0;display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
Unless otherwise noted, <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor">this work</a> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/bcg7" property="cc:attributionName" rel="cc:attributionURL">BC George</a>, <a xmlns:cc="https://creativecommons.org/ns#" href="https://github.com/cagix" property="cc:attributionName" rel="cc:attributionURL">Carsten Gips</a>, and <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/graphs/contributors">contributors</a> is licensed under <a rel="license" href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/LICENSE.md">CC BY-SA 4.0</a>.
See the <a href="https://github.com/Compiler-CampusMinden/CB-Vorlesung-Bachelor/blob/master/CREDITS.md">credits</a> for a detailed list of contributing projects.

</p>
</div>

</footer>
</article>

          </section>
        </div>
      </main>
    </div>
    <script src="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/js/clipboard.min.js?1739788418" defer></script>
    <script src="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/js/perfect-scrollbar.min.js?1739788418" defer></script>
    <script>
      function useMathJax( config ){
        window.MathJax = Object.assign( window.MathJax || {}, {
          tex: {
            inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
            displayMath: [['\\[', '\\]'], ['$$', '$$']], 
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/js/mathjax/tex-mml-chtml.js?1739788418"></script>
    <script src="/elearning/data/FH-Bielefeld/lm_data/lm_1360443/js/theme.js?1739788418" defer></script>
  </body>
</html>
